{"version":3,"sources":["webpack:///./src/images/kedr2earthsfdp.svg","webpack:///./node_modules/bezier-easing/src/index.js","webpack:///./node_modules/panzoom/lib/kinetic.js","webpack:///./node_modules/react-side-effect/lib/index.js","webpack:///./node_modules/ngraph.events/index.js","webpack:///./node_modules/panzoom/lib/createTextSelectionInterceptor.js","webpack:///./src/pages/k2egraph.js","webpack:///./node_modules/panzoom/lib/transform.js","webpack:///./node_modules/panzoom/lib/domController.js","webpack:///./src/images/kedr2earthsfdp.png","webpack:///./node_modules/react-fast-compare/index.js","webpack:///./node_modules/amator/index.js","webpack:///./node_modules/panzoom/index.js","webpack:///./node_modules/wheel/index.js","webpack:///./node_modules/react-helmet/es/Helmet.js","webpack:///./node_modules/panzoom/lib/svgController.js"],"names":["module","exports","float32ArraySupported","Float32Array","A","aA1","aA2","B","C","calcBezier","aT","getSlope","LinearEasing","x","mX1","mY1","mX2","mY2","Error","sampleValues","Array","i","getTForX","aX","intervalStart","currentSample","kSplineTableSize","guessForT","initialSlope","aGuessT","currentSlope","newtonRaphsonIterate","aA","aB","currentX","currentT","Math","abs","binarySubdivide","getCancelAnimationFrame","cancelAnimationFrame","clearTimeout","getRequestAnimationFrame","requestAnimationFrame","handler","setTimeout","getPoint","scroll","settings","lastPoint","timestamp","ticker","vx","targetX","ax","vy","targetY","ay","raf","minVelocity","amplitude","start","Date","track","stop","currentPoint","y","now","autoScroll","cancel","elapsed","dx","dy","dt","moving","exp","ex","React","React__default","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","canUseDOM","window","document","createElement","reducePropsToState","handleStateChangeOnClient","mapStateOnServer","WrappedComponent","state","mountedInstances","emitChange","map","instance","props","SideEffect","_PureComponent","subClass","superClass","apply","this","arguments","prototype","create","constructor","__proto__","peek","rewind","recordedState","undefined","_proto","UNSAFE_componentWillMount","push","componentDidUpdate","componentWillUnmount","index","indexOf","splice","render","PureComponent","displayName","name","getDisplayName","subject","reservedWords","length","hasOwnProperty","validateSubject","eventsStorage","registeredEvents","on","eventName","callback","ctx","handlers","off","callbacks","fire","fireArguments","call","callbackInfo","createEventsStorage","disabled","e","stopPropagation","noop","useFake","capture","release","dragObject","prevSelectStart","prevDragStart","wasCaptured","domObject","onselectstart","ondragstart","KedrgraphPage","content","id","style","width","src","k2e","onLoad","element","querySelector","console","log","innerWidth","height","innerHeight","scrollTo","scale","isDomElement","parentElement","domElement","options","owner","scrollTop","disableKeyboardInteraction","setAttribute","getBBox","left","top","clientWidth","clientHeight","getOwner","applyTransform","transform","transformOrigin","canAttach","hasElementType","Element","hasMap","Map","hasSet","Set","hasArrayBuffer","ArrayBuffer","isView","a","b","equal","keys","it","isArray","size","entries","next","done","has","get","RegExp","source","flags","valueOf","toString","$$typeof","error","message","match","warn","BezierEasing","animations","ease","easeIn","easeOut","easeInOut","linear","makeAggregateRaf","frontBuffer","backBuffer","frameToken","clearAll","clear","add","renderFrame","t","forEach","target","diff","easing","step","scheduler","bind","cb","getScheduler","previousAnimationId","durationInMs","duration","durationInFrames","max","frame","loop","setValues","sharedScheduler","wheel","animate","eventify","kinetic","createTextSelectionInterceptor","domTextSelectionInterceptor","fakeTextSelectorInterceptor","Transform","makeSvgController","makeDomController","createPanZoom","panController","controller","storedCTMResult","isDirty","initTransform","frameAnimation","filterKey","pinchSpeed","bounds","maxZoom","Number","POSITIVE_INFINITY","minZoom","boundsPadding","zoomDoubleClickSpeed","beforeWheel","beforeMouseDown","speed","zoomSpeed","parseTransformOrigin","textSelection","enableTextSelection","boundsType","isNumber","bottom","right","validateBounds","autocenter","w","h","sceneBoundingBox","getBoundingBox","ownerRect","getBoundingClientRect","bbox","dh","dw","min","lastSingleFingerOffset","mouseX","mouseY","pinchZoomLength","smoothScroll","moveByAnimation","zoomToAnimation","multiTouch","lastTouchEndTime","touchInProgress","panstartFired","cancelZoomAnimation","moveTo","paused","listenForEvents","api","dispose","releaseEvents","moveBy","internalMoveBy","smoothMoveTo","centerOn","ui","parent","ownerSVGElement","clientRect","cx","cy","container","zoomTo","publicZoomTo","zoomAbs","smoothZoom","smoothZoomAbs","clientX","clientY","toScaleValue","from","to","v","showRectangle","rect","transformToScreen","rectWidth","rectHeight","isFinite","pause","resume","isPaused","getTransform","getMinZoom","setMinZoom","newMinZoom","getMaxZoom","setMaxZoom","newMaxZoom","getTransformOrigin","setTransformOrigin","newTransformOrigin","getZoomSpeed","setZoomSpeed","newSpeed","initialX","initialY","initialZoom","Scale","getScreenCTM","parentCTM","parentScaleX","parentScaleY","d","parentOffsetX","parentOffsetY","f","keepTransformInsideBounds","triggerEvent","makeDirty","boundingBox","leftTop","adjusted","sceneWidth","sceneHeight","zoomByRatio","ratio","isNaN","newScale","zoomLevel","smooth","lastX","lastY","addEventListener","onMouseDown","passive","onDoubleClick","onTouch","onKeyDown","addWheelListener","onMouseWheel","removeWheelListener","removeEventListener","releaseDocumentMouse","releaseTouches","triggerPanEnd","z","keyCode","preventDefault","offset","scaleMultiplier","getScaleMultiplier","getTransformOriginOffset","beforeTouch","touches","getOffsetXY","point","startTouchListenerIfNeeded","handleSingleFingerTouch","getPinchZoomLength","handleTouchMove","handleTouchEnd","triggerPanStart","t1","t2","currentPinchLength","firstTouchPoint","secondTouchPoint","finger1","finger2","sqrt","beforeDoubleClick","button","event","onMouseMove","onMouseUp","srcElement","delta","deltaY","deltaMode","fromValue","triggerZoomEnd","sign","failTransformOrigin","join","scripts","getElementsByTagName","panzoomScript","query","getAttribute","globalName","started","tryAttach","el","script","attrs","attributes","nameValue","getPanzoomAttributeNameValue","collectOptions","attr","substr","JSON","parse","autoRun","listener","useCapture","clock","Component","_class","_temp","ATTRIBUTE_NAMES","TAG_NAMES","BASE","BODY","HEAD","HTML","LINK","META","NOSCRIPT","SCRIPT","STYLE","TITLE","TAG_PROPERTIES","REACT_TAG_MAP","accesskey","charset","class","contenteditable","contextmenu","itemprop","tabindex","HELMET_PROPS","HTML_TAG_MAP","reduce","SELF_CLOSING_TAGS","_typeof","Symbol","iterator","classCallCheck","Constructor","TypeError","createClass","defineProperties","descriptor","protoProps","staticProps","_extends","assign","objectWithoutProperties","possibleConstructorReturn","self","ReferenceError","encodeSpecialCharacters","str","encode","String","replace","getTitleFromPropsList","propsList","innermostTitle","getInnermostProperty","innermostTemplate","innermostDefaultTitle","getOnChangeClientState","getAttributesFromPropsList","tagType","filter","tagAttrs","current","getBaseTagFromPropsList","primaryAttributes","reverse","innermostBaseTag","tag","lowerCaseAttributeKey","toLowerCase","concat","getTagsFromPropsList","tagName","approvedSeenTags","approvedTags","instanceTags","instanceSeenTags","primaryAttributeKey","attributeKey","tagUnion","property","rafPolyfill","currentTime","cafPolyfill","webkitRequestAnimationFrame","mozRequestAnimationFrame","global","webkitCancelAnimationFrame","mozCancelAnimationFrame","msg","_helmetCallback","commitTagChanges","newState","baseTag","bodyAttributes","htmlAttributes","linkTags","metaTags","noscriptTags","onChangeClientState","scriptTags","styleTags","title","titleAttributes","updateAttributes","updateTitle","tagUpdates","updateTags","addedTags","removedTags","_tagUpdates$tagType","newTags","oldTags","flattenArray","possibleArray","elementTag","helmetAttributeString","helmetAttributes","split","attributesToRemove","attributeKeys","attribute","indexToSave","_i","removeAttribute","type","tags","headElement","head","tagNodes","querySelectorAll","slice","indexToDelete","newElement","innerHTML","styleSheet","cssText","appendChild","createTextNode","some","existingTag","isEqualNode","parentNode","removeChild","generateElementAttributesAsString","convertElementAttributestoReactProps","initProps","getMethodsForTag","toComponent","_initProps","attributeString","flattenedTitle","generateTitleAsString","_mappedTag","mappedTag","mappedAttribute","dangerouslySetInnerHTML","__html","generateTagsAsReactComponent","attributeHtml","string","tagContent","isSelfClosing","generateTagsAsString","_ref","_ref$title","base","link","meta","noscript","HelmetSideEffects","defer","HelmetExport","_React$Component","HelmetWrapper","setPrototypeOf","inherits","shouldComponentUpdate","nextProps","mapNestedChildrenToProps","child","nestedChildren","flattenArrayTypeChildren","_babelHelpers$extends","arrayTypeChildren","newChildProps","mapObjectTypeChildren","_ref2","_babelHelpers$extends2","_babelHelpers$extends3","newProps","mapArrayTypeChildrenToProps","newFlattenedProps","arrayChildName","_babelHelpers$extends4","warnOnInvalidChildren","mapChildrenToProps","children","_this2","Children","_child$props","initAttributes","convertReactPropstoHtmlAttributes","_props","set","propTypes","object","oneOfType","arrayOf","node","defaultTitle","bool","func","titleTemplate","defaultProps","mappedState","renderStatic","isSVGElement","getCTM","svgElement","ctm","screenCTM","createElementNS","createSVGMatrix","removeAttributeNS"],"mappings":"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","file":"component---src-pages-k-2-egraph-js-df4bd0d58233f474621c.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/kedr2earthsfdp-9b920a9175ab20ba6b54ab2c9e504b8f.svg\";","/**\n * https://github.com/gre/bezier-easing\n * BezierEasing - use bezier curve for transition easing function\n * by Gaëtan Renaudeau 2014 - 2015 – MIT License\n */\n// These values are established by empiricism with tests (tradeoff: performance VS precision)\nvar NEWTON_ITERATIONS = 4;\nvar NEWTON_MIN_SLOPE = 0.001;\nvar SUBDIVISION_PRECISION = 0.0000001;\nvar SUBDIVISION_MAX_ITERATIONS = 10;\nvar kSplineTableSize = 11;\nvar kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\nvar float32ArraySupported = typeof Float32Array === 'function';\n\nfunction A(aA1, aA2) {\n  return 1.0 - 3.0 * aA2 + 3.0 * aA1;\n}\n\nfunction B(aA1, aA2) {\n  return 3.0 * aA2 - 6.0 * aA1;\n}\n\nfunction C(aA1) {\n  return 3.0 * aA1;\n} // Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\n\n\nfunction calcBezier(aT, aA1, aA2) {\n  return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT;\n} // Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\n\n\nfunction getSlope(aT, aA1, aA2) {\n  return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\n}\n\nfunction binarySubdivide(aX, aA, aB, mX1, mX2) {\n  var currentX,\n      currentT,\n      i = 0;\n\n  do {\n    currentT = aA + (aB - aA) / 2.0;\n    currentX = calcBezier(currentT, mX1, mX2) - aX;\n\n    if (currentX > 0.0) {\n      aB = currentT;\n    } else {\n      aA = currentT;\n    }\n  } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n\n  return currentT;\n}\n\nfunction newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n  for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\n    var currentSlope = getSlope(aGuessT, mX1, mX2);\n\n    if (currentSlope === 0.0) {\n      return aGuessT;\n    }\n\n    var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n    aGuessT -= currentX / currentSlope;\n  }\n\n  return aGuessT;\n}\n\nfunction LinearEasing(x) {\n  return x;\n}\n\nmodule.exports = function bezier(mX1, mY1, mX2, mY2) {\n  if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) {\n    throw new Error('bezier x values must be in [0, 1] range');\n  }\n\n  if (mX1 === mY1 && mX2 === mY2) {\n    return LinearEasing;\n  } // Precompute samples table\n\n\n  var sampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\n\n  for (var i = 0; i < kSplineTableSize; ++i) {\n    sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n  }\n\n  function getTForX(aX) {\n    var intervalStart = 0.0;\n    var currentSample = 1;\n    var lastSample = kSplineTableSize - 1;\n\n    for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n      intervalStart += kSampleStepSize;\n    }\n\n    --currentSample; // Interpolate to provide an initial guess for t\n\n    var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n    var guessForT = intervalStart + dist * kSampleStepSize;\n    var initialSlope = getSlope(guessForT, mX1, mX2);\n\n    if (initialSlope >= NEWTON_MIN_SLOPE) {\n      return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n    } else if (initialSlope === 0.0) {\n      return guessForT;\n    } else {\n      return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n    }\n  }\n\n  return function BezierEasing(x) {\n    // Because JavaScript number are imprecise, we should guarantee the extremes are right.\n    if (x === 0) {\n      return 0;\n    }\n\n    if (x === 1) {\n      return 1;\n    }\n\n    return calcBezier(getTForX(x), mY1, mY2);\n  };\n};","/**\n * Allows smooth kinetic scrolling of the surface\n */\nmodule.exports = kinetic;\n\nfunction kinetic(getPoint, scroll, settings) {\n  if (typeof settings !== 'object') {\n    // setting could come as boolean, we should ignore it, and use an object.\n    settings = {};\n  }\n\n  var minVelocity = typeof settings.minVelocity === 'number' ? settings.minVelocity : 5;\n  var amplitude = typeof settings.amplitude === 'number' ? settings.amplitude : 0.25;\n  var cancelAnimationFrame = typeof settings.cancelAnimationFrame === 'function' ? settings.cancelAnimationFrame : getCancelAnimationFrame();\n  var requestAnimationFrame = typeof settings.requestAnimationFrame === 'function' ? settings.requestAnimationFrame : getRequestAnimationFrame();\n  var lastPoint;\n  var timestamp;\n  var timeConstant = 342;\n  var ticker;\n  var vx, targetX, ax;\n  var vy, targetY, ay;\n  var raf;\n  return {\n    start: start,\n    stop: stop,\n    cancel: dispose\n  };\n\n  function dispose() {\n    cancelAnimationFrame(ticker);\n    cancelAnimationFrame(raf);\n  }\n\n  function start() {\n    lastPoint = getPoint();\n    ax = ay = vx = vy = 0;\n    timestamp = new Date();\n    cancelAnimationFrame(ticker);\n    cancelAnimationFrame(raf); // we start polling the point position to accumulate velocity\n    // Once we stop(), we will use accumulated velocity to keep scrolling\n    // an object.\n\n    ticker = requestAnimationFrame(track);\n  }\n\n  function track() {\n    var now = Date.now();\n    var elapsed = now - timestamp;\n    timestamp = now;\n    var currentPoint = getPoint();\n    var dx = currentPoint.x - lastPoint.x;\n    var dy = currentPoint.y - lastPoint.y;\n    lastPoint = currentPoint;\n    var dt = 1000 / (1 + elapsed); // moving average\n\n    vx = 0.8 * dx * dt + 0.2 * vx;\n    vy = 0.8 * dy * dt + 0.2 * vy;\n    ticker = requestAnimationFrame(track);\n  }\n\n  function stop() {\n    cancelAnimationFrame(ticker);\n    cancelAnimationFrame(raf);\n    var currentPoint = getPoint();\n    targetX = currentPoint.x;\n    targetY = currentPoint.y;\n    timestamp = Date.now();\n\n    if (vx < -minVelocity || vx > minVelocity) {\n      ax = amplitude * vx;\n      targetX += ax;\n    }\n\n    if (vy < -minVelocity || vy > minVelocity) {\n      ay = amplitude * vy;\n      targetY += ay;\n    }\n\n    raf = requestAnimationFrame(autoScroll);\n  }\n\n  function autoScroll() {\n    var elapsed = Date.now() - timestamp;\n    var moving = false;\n    var dx = 0;\n    var dy = 0;\n\n    if (ax) {\n      dx = -ax * Math.exp(-elapsed / timeConstant);\n      if (dx > 0.5 || dx < -0.5) moving = true;else dx = ax = 0;\n    }\n\n    if (ay) {\n      dy = -ay * Math.exp(-elapsed / timeConstant);\n      if (dy > 0.5 || dy < -0.5) moving = true;else dy = ay = 0;\n    }\n\n    if (moving) {\n      scroll(targetX + dx, targetY + dy);\n      raf = requestAnimationFrame(autoScroll);\n    }\n  }\n}\n\nfunction getCancelAnimationFrame() {\n  if (typeof cancelAnimationFrame === 'function') return cancelAnimationFrame;\n  return clearTimeout;\n}\n\nfunction getRequestAnimationFrame() {\n  if (typeof requestAnimationFrame === 'function') return requestAnimationFrame;\n  return function (handler) {\n    return setTimeout(handler, 16);\n  };\n}","'use strict';\n\nfunction _interopDefault(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar React = require('react');\n\nvar React__default = _interopDefault(React);\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n\nfunction withSideEffect(reducePropsToState, handleStateChangeOnClient, mapStateOnServer) {\n  if (typeof reducePropsToState !== 'function') {\n    throw new Error('Expected reducePropsToState to be a function.');\n  }\n\n  if (typeof handleStateChangeOnClient !== 'function') {\n    throw new Error('Expected handleStateChangeOnClient to be a function.');\n  }\n\n  if (typeof mapStateOnServer !== 'undefined' && typeof mapStateOnServer !== 'function') {\n    throw new Error('Expected mapStateOnServer to either be undefined or a function.');\n  }\n\n  function getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  }\n\n  return function wrap(WrappedComponent) {\n    if (typeof WrappedComponent !== 'function') {\n      throw new Error('Expected WrappedComponent to be a React component.');\n    }\n\n    var mountedInstances = [];\n    var state;\n\n    function emitChange() {\n      state = reducePropsToState(mountedInstances.map(function (instance) {\n        return instance.props;\n      }));\n\n      if (SideEffect.canUseDOM) {\n        handleStateChangeOnClient(state);\n      } else if (mapStateOnServer) {\n        state = mapStateOnServer(state);\n      }\n    }\n\n    var SideEffect = /*#__PURE__*/function (_PureComponent) {\n      _inheritsLoose(SideEffect, _PureComponent);\n\n      function SideEffect() {\n        return _PureComponent.apply(this, arguments) || this;\n      } // Try to use displayName of wrapped component\n      // Expose canUseDOM so tests can monkeypatch it\n\n\n      SideEffect.peek = function peek() {\n        return state;\n      };\n\n      SideEffect.rewind = function rewind() {\n        if (SideEffect.canUseDOM) {\n          throw new Error('You may only call rewind() on the server. Call peek() to read the current state.');\n        }\n\n        var recordedState = state;\n        state = undefined;\n        mountedInstances = [];\n        return recordedState;\n      };\n\n      var _proto = SideEffect.prototype;\n\n      _proto.UNSAFE_componentWillMount = function UNSAFE_componentWillMount() {\n        mountedInstances.push(this);\n        emitChange();\n      };\n\n      _proto.componentDidUpdate = function componentDidUpdate() {\n        emitChange();\n      };\n\n      _proto.componentWillUnmount = function componentWillUnmount() {\n        var index = mountedInstances.indexOf(this);\n        mountedInstances.splice(index, 1);\n        emitChange();\n      };\n\n      _proto.render = function render() {\n        return /*#__PURE__*/React__default.createElement(WrappedComponent, this.props);\n      };\n\n      return SideEffect;\n    }(React.PureComponent);\n\n    _defineProperty(SideEffect, \"displayName\", \"SideEffect(\" + getDisplayName(WrappedComponent) + \")\");\n\n    _defineProperty(SideEffect, \"canUseDOM\", canUseDOM);\n\n    return SideEffect;\n  };\n}\n\nmodule.exports = withSideEffect;","module.exports = function eventify(subject) {\n  validateSubject(subject);\n  var eventsStorage = createEventsStorage(subject);\n  subject.on = eventsStorage.on;\n  subject.off = eventsStorage.off;\n  subject.fire = eventsStorage.fire;\n  return subject;\n};\n\nfunction createEventsStorage(subject) {\n  // Store all event listeners to this hash. Key is event name, value is array\n  // of callback records.\n  //\n  // A callback record consists of callback function and its optional context:\n  // { 'eventName' => [{callback: function, ctx: object}] }\n  var registeredEvents = Object.create(null);\n  return {\n    on: function on(eventName, callback, ctx) {\n      if (typeof callback !== 'function') {\n        throw new Error('callback is expected to be a function');\n      }\n\n      var handlers = registeredEvents[eventName];\n\n      if (!handlers) {\n        handlers = registeredEvents[eventName] = [];\n      }\n\n      handlers.push({\n        callback: callback,\n        ctx: ctx\n      });\n      return subject;\n    },\n    off: function off(eventName, callback) {\n      var wantToRemoveAll = typeof eventName === 'undefined';\n\n      if (wantToRemoveAll) {\n        // Killing old events storage should be enough in this case:\n        registeredEvents = Object.create(null);\n        return subject;\n      }\n\n      if (registeredEvents[eventName]) {\n        var deleteAllCallbacksForEvent = typeof callback !== 'function';\n\n        if (deleteAllCallbacksForEvent) {\n          delete registeredEvents[eventName];\n        } else {\n          var callbacks = registeredEvents[eventName];\n\n          for (var i = 0; i < callbacks.length; ++i) {\n            if (callbacks[i].callback === callback) {\n              callbacks.splice(i, 1);\n            }\n          }\n        }\n      }\n\n      return subject;\n    },\n    fire: function fire(eventName) {\n      var callbacks = registeredEvents[eventName];\n\n      if (!callbacks) {\n        return subject;\n      }\n\n      var fireArguments;\n\n      if (arguments.length > 1) {\n        fireArguments = Array.prototype.splice.call(arguments, 1);\n      }\n\n      for (var i = 0; i < callbacks.length; ++i) {\n        var callbackInfo = callbacks[i];\n        callbackInfo.callback.apply(callbackInfo.ctx, fireArguments);\n      }\n\n      return subject;\n    }\n  };\n}\n\nfunction validateSubject(subject) {\n  if (!subject) {\n    throw new Error('Eventify cannot use falsy object as events subject');\n  }\n\n  var reservedWords = ['on', 'fire', 'off'];\n\n  for (var i = 0; i < reservedWords.length; ++i) {\n    if (subject.hasOwnProperty(reservedWords[i])) {\n      throw new Error(\"Subject cannot be eventified, since it already has property '\" + reservedWords[i] + \"'\");\n    }\n  }\n}","/**\n * Disallows selecting text.\n */\nmodule.exports = createTextSelectionInterceptor;\n\nfunction createTextSelectionInterceptor(useFake) {\n  if (useFake) {\n    return {\n      capture: noop,\n      release: noop\n    };\n  }\n\n  var dragObject;\n  var prevSelectStart;\n  var prevDragStart;\n  var wasCaptured = false;\n  return {\n    capture: capture,\n    release: release\n  };\n\n  function capture(domObject) {\n    wasCaptured = true;\n    prevSelectStart = window.document.onselectstart;\n    prevDragStart = window.document.ondragstart;\n    window.document.onselectstart = disabled;\n    dragObject = domObject;\n    dragObject.ondragstart = disabled;\n  }\n\n  function release() {\n    if (!wasCaptured) return;\n    wasCaptured = false;\n    window.document.onselectstart = prevSelectStart;\n    if (dragObject) dragObject.ondragstart = prevDragStart;\n  }\n}\n\nfunction disabled(e) {\n  e.stopPropagation();\n  return false;\n}\n\nfunction noop() {}","import * as React from \"react\"\nimport { Helmet } from \"react-helmet\"\nimport k2e from '../images/kedr2earthsfdp.svg'\nimport k2epng from '../images/kedr2earthsfdp.png'\nimport panzoom from \"panzoom\";\n\n\n// markup\nconst KedrgraphPage = () => {\n  // React.useEffect(() => {\n  //   // console.log(window.width)\n  //   // console.log(window.height)\n  //   window.scrollTo(3088, 3302)\n\n  // }, [])\n\n  const parda = () => {\n    var element = document.querySelector('#k2e')\n    // console.log(element.width - window.outerWidth / 2, element.height - window.outerHeight / 2 )\n    // window.scrollTo(element.width - window.outerWidth / 2, element.height - window.outerHeight / 2)\n    console.log(element.width / 2 - window.innerWidth / 2, element.height / 2 - window.innerHeight / 2)\n    window.scrollTo(element.width / 2 - window.innerWidth / 2, element.height / 2 - window.innerHeight / 2)\n    \n    // var element = document.querySelector('#k2e')\n    // panzoom(element)\n  }\n\n  return (\n    <main>\n      <Helmet>\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=0.1\" />\n      </Helmet>\n      \n      <img id=\"k2e\" style={{width: '200%'}} src={k2e} onLoad={parda} />\n      {/* <img id=\"k2e\" style={{width: '100%'}} src={k2epng} onLoad={parda} /> */}\n    </main>\n  )\n}\n\nexport default KedrgraphPage\n","module.exports = Transform;\n\nfunction Transform() {\n  this.x = 0;\n  this.y = 0;\n  this.scale = 1;\n}","module.exports = makeDomController;\nmodule.exports.canAttach = isDomElement;\n\nfunction makeDomController(domElement, options) {\n  var elementValid = isDomElement(domElement);\n\n  if (!elementValid) {\n    throw new Error('panzoom requires DOM element to be attached to the DOM tree');\n  }\n\n  var owner = domElement.parentElement;\n  domElement.scrollTop = 0;\n\n  if (!options.disableKeyboardInteraction) {\n    owner.setAttribute('tabindex', 0);\n  }\n\n  var api = {\n    getBBox: getBBox,\n    getOwner: getOwner,\n    applyTransform: applyTransform\n  };\n  return api;\n\n  function getOwner() {\n    return owner;\n  }\n\n  function getBBox() {\n    // TODO: We should probably cache this?\n    return {\n      left: 0,\n      top: 0,\n      width: domElement.clientWidth,\n      height: domElement.clientHeight\n    };\n  }\n\n  function applyTransform(transform) {\n    // TODO: Should we cache this?\n    domElement.style.transformOrigin = '0 0 0';\n    domElement.style.transform = 'matrix(' + transform.scale + ', 0, 0, ' + transform.scale + ', ' + transform.x + ', ' + transform.y + ')';\n  }\n}\n\nfunction isDomElement(element) {\n  return element && element.parentElement && element.style;\n}","module.exports = __webpack_public_path__ + \"static/kedr2earthsfdp-ea8577d794b2a6b8785799b971916301.png\";","/* global Map:readonly, Set:readonly, ArrayBuffer:readonly */\nvar hasElementType = typeof Element !== 'undefined';\nvar hasMap = typeof Map === 'function';\nvar hasSet = typeof Set === 'function';\nvar hasArrayBuffer = typeof ArrayBuffer === 'function' && !!ArrayBuffer.isView; // Note: We **don't** need `envHasBigInt64Array` in fde es6/index.js\n\nfunction equal(a, b) {\n  // START: fast-deep-equal es6/index.js 3.1.1\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n    var length, i, keys;\n\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n\n      for (i = length; i-- !== 0;) {\n        if (!equal(a[i], b[i])) return false;\n      }\n\n      return true;\n    } // START: Modifications:\n    // 1. Extra `has<Type> &&` helpers in initial condition allow es6 code\n    //    to co-exist with es5.\n    // 2. Replace `for of` with es5 compliant iteration using `for`.\n    //    Basically, take:\n    //\n    //    ```js\n    //    for (i of a.entries())\n    //      if (!b.has(i[0])) return false;\n    //    ```\n    //\n    //    ... and convert to:\n    //\n    //    ```js\n    //    it = a.entries();\n    //    while (!(i = it.next()).done)\n    //      if (!b.has(i.value[0])) return false;\n    //    ```\n    //\n    //    **Note**: `i` access switches to `i.value`.\n\n\n    var it;\n\n    if (hasMap && a instanceof Map && b instanceof Map) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n\n      while (!(i = it.next()).done) {\n        if (!b.has(i.value[0])) return false;\n      }\n\n      it = a.entries();\n\n      while (!(i = it.next()).done) {\n        if (!equal(i.value[1], b.get(i.value[0]))) return false;\n      }\n\n      return true;\n    }\n\n    if (hasSet && a instanceof Set && b instanceof Set) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n\n      while (!(i = it.next()).done) {\n        if (!b.has(i.value[0])) return false;\n      }\n\n      return true;\n    } // END: Modifications\n\n\n    if (hasArrayBuffer && ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {\n      length = a.length;\n      if (length != b.length) return false;\n\n      for (i = length; i-- !== 0;) {\n        if (a[i] !== b[i]) return false;\n      }\n\n      return true;\n    }\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;) {\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n    } // END: fast-deep-equal\n    // START: react-fast-compare\n    // custom handling for DOM elements\n\n\n    if (hasElementType && a instanceof Element) return false; // custom handling for React/Preact\n\n    for (i = length; i-- !== 0;) {\n      if ((keys[i] === '_owner' || keys[i] === '__v' || keys[i] === '__o') && a.$$typeof) {\n        // React-specific: avoid traversing React elements' _owner\n        // Preact-specific: avoid traversing Preact elements' __v and __o\n        //    __v = $_original / $_vnode\n        //    __o = $_owner\n        // These properties contain circular references and are not needed when\n        // comparing the actual elements (and not their owners)\n        // .$$typeof and ._store on just reasonable markers of elements\n        continue;\n      } // all other properties should be traversed as usual\n\n\n      if (!equal(a[keys[i]], b[keys[i]])) return false;\n    } // END: react-fast-compare\n    // START: fast-deep-equal\n\n\n    return true;\n  }\n\n  return a !== a && b !== b;\n} // end fast-deep-equal\n\n\nmodule.exports = function isEqual(a, b) {\n  try {\n    return equal(a, b);\n  } catch (error) {\n    if ((error.message || '').match(/stack|recursion/i)) {\n      // warn on circular references, don't crash\n      // browsers give this different errors name and messages:\n      // chrome/safari: \"RangeError\", \"Maximum call stack size exceeded\"\n      // firefox: \"InternalError\", too much recursion\"\n      // edge: \"Error\", \"Out of stack space\"\n      console.warn('react-fast-compare cannot handle circular refs');\n      return false;\n    } // some other error. we should definitely know about these\n\n\n    throw error;\n  }\n};","var BezierEasing = require('bezier-easing'); // Predefined set of animations. Similar to CSS easing functions\n\n\nvar animations = {\n  ease: BezierEasing(0.25, 0.1, 0.25, 1),\n  easeIn: BezierEasing(0.42, 0, 1, 1),\n  easeOut: BezierEasing(0, 0, 0.58, 1),\n  easeInOut: BezierEasing(0.42, 0, 0.58, 1),\n  linear: BezierEasing(0, 0, 1, 1)\n};\nmodule.exports = animate;\nmodule.exports.makeAggregateRaf = makeAggregateRaf;\nmodule.exports.sharedScheduler = makeAggregateRaf();\n\nfunction animate(source, target, options) {\n  var start = Object.create(null);\n  var diff = Object.create(null);\n  options = options || {}; // We let clients specify their own easing function\n\n  var easing = typeof options.easing === 'function' ? options.easing : animations[options.easing]; // if nothing is specified, default to ease (similar to CSS animations)\n\n  if (!easing) {\n    if (options.easing) {\n      console.warn('Unknown easing function in amator: ' + options.easing);\n    }\n\n    easing = animations.ease;\n  }\n\n  var step = typeof options.step === 'function' ? options.step : noop;\n  var done = typeof options.done === 'function' ? options.done : noop;\n  var scheduler = getScheduler(options.scheduler);\n  var keys = Object.keys(target);\n  keys.forEach(function (key) {\n    start[key] = source[key];\n    diff[key] = target[key] - source[key];\n  });\n  var durationInMs = typeof options.duration === 'number' ? options.duration : 400;\n  var durationInFrames = Math.max(1, durationInMs * 0.06); // 0.06 because 60 frames pers 1,000 ms\n\n  var previousAnimationId;\n  var frame = 0;\n  previousAnimationId = scheduler.next(loop);\n  return {\n    cancel: cancel\n  };\n\n  function cancel() {\n    scheduler.cancel(previousAnimationId);\n    previousAnimationId = 0;\n  }\n\n  function loop() {\n    var t = easing(frame / durationInFrames);\n    frame += 1;\n    setValues(t);\n\n    if (frame <= durationInFrames) {\n      previousAnimationId = scheduler.next(loop);\n      step(source);\n    } else {\n      previousAnimationId = 0;\n      setTimeout(function () {\n        done(source);\n      }, 0);\n    }\n  }\n\n  function setValues(t) {\n    keys.forEach(function (key) {\n      source[key] = diff[key] * t + start[key];\n    });\n  }\n}\n\nfunction noop() {}\n\nfunction getScheduler(scheduler) {\n  if (!scheduler) {\n    var canRaf = typeof window !== 'undefined' && window.requestAnimationFrame;\n    return canRaf ? rafScheduler() : timeoutScheduler();\n  }\n\n  if (typeof scheduler.next !== 'function') throw new Error('Scheduler is supposed to have next(cb) function');\n  if (typeof scheduler.cancel !== 'function') throw new Error('Scheduler is supposed to have cancel(handle) function');\n  return scheduler;\n}\n\nfunction rafScheduler() {\n  return {\n    next: window.requestAnimationFrame.bind(window),\n    cancel: window.cancelAnimationFrame.bind(window)\n  };\n}\n\nfunction timeoutScheduler() {\n  return {\n    next: function next(cb) {\n      return setTimeout(cb, 1000 / 60);\n    },\n    cancel: function cancel(id) {\n      return clearTimeout(id);\n    }\n  };\n}\n\nfunction makeAggregateRaf() {\n  var frontBuffer = new Set();\n  var backBuffer = new Set();\n  var frameToken = 0;\n  return {\n    next: next,\n    cancel: next,\n    clearAll: clearAll\n  };\n\n  function clearAll() {\n    frontBuffer.clear();\n    backBuffer.clear();\n    cancelAnimationFrame(frameToken);\n    frameToken = 0;\n  }\n\n  function next(callback) {\n    backBuffer.add(callback);\n    renderNextFrame();\n  }\n\n  function renderNextFrame() {\n    if (!frameToken) frameToken = requestAnimationFrame(renderFrame);\n  }\n\n  function renderFrame() {\n    frameToken = 0;\n    var t = backBuffer;\n    backBuffer = frontBuffer;\n    frontBuffer = t;\n    frontBuffer.forEach(function (callback) {\n      callback();\n    });\n    frontBuffer.clear();\n  }\n\n  function cancel(callback) {\n    backBuffer.delete(callback);\n  }\n}","'use strict';\n/**\n * Allows to drag and zoom svg elements\n */\n\nvar wheel = require('wheel');\n\nvar animate = require('amator');\n\nvar eventify = require('ngraph.events');\n\nvar kinetic = require('./lib/kinetic.js');\n\nvar createTextSelectionInterceptor = require('./lib/createTextSelectionInterceptor.js');\n\nvar domTextSelectionInterceptor = createTextSelectionInterceptor();\nvar fakeTextSelectorInterceptor = createTextSelectionInterceptor(true);\n\nvar Transform = require('./lib/transform.js');\n\nvar makeSvgController = require('./lib/svgController.js');\n\nvar makeDomController = require('./lib/domController.js');\n\nvar defaultZoomSpeed = 1;\nvar defaultDoubleTapZoomSpeed = 1.75;\nvar doubleTapSpeedInMS = 300;\nmodule.exports = createPanZoom;\n/**\n * Creates a new instance of panzoom, so that an object can be panned and zoomed\n *\n * @param {DOMElement} domElement where panzoom should be attached.\n * @param {Object} options that configure behavior.\n */\n\nfunction createPanZoom(domElement, options) {\n  options = options || {};\n  var panController = options.controller;\n\n  if (!panController) {\n    if (makeSvgController.canAttach(domElement)) {\n      panController = makeSvgController(domElement, options);\n    } else if (makeDomController.canAttach(domElement)) {\n      panController = makeDomController(domElement, options);\n    }\n  }\n\n  if (!panController) {\n    throw new Error('Cannot create panzoom for the current type of dom element');\n  }\n\n  var owner = panController.getOwner(); // just to avoid GC pressure, every time we do intermediate transform\n  // we return this object. For internal use only. Never give it back to the consumer of this library\n\n  var storedCTMResult = {\n    x: 0,\n    y: 0\n  };\n  var isDirty = false;\n  var transform = new Transform();\n\n  if (panController.initTransform) {\n    panController.initTransform(transform);\n  }\n\n  var filterKey = typeof options.filterKey === 'function' ? options.filterKey : noop; // TODO: likely need to unite pinchSpeed with zoomSpeed\n\n  var pinchSpeed = typeof options.pinchSpeed === 'number' ? options.pinchSpeed : 1;\n  var bounds = options.bounds;\n  var maxZoom = typeof options.maxZoom === 'number' ? options.maxZoom : Number.POSITIVE_INFINITY;\n  var minZoom = typeof options.minZoom === 'number' ? options.minZoom : 0;\n  var boundsPadding = typeof options.boundsPadding === 'number' ? options.boundsPadding : 0.05;\n  var zoomDoubleClickSpeed = typeof options.zoomDoubleClickSpeed === 'number' ? options.zoomDoubleClickSpeed : defaultDoubleTapZoomSpeed;\n  var beforeWheel = options.beforeWheel || noop;\n  var beforeMouseDown = options.beforeMouseDown || noop;\n  var speed = typeof options.zoomSpeed === 'number' ? options.zoomSpeed : defaultZoomSpeed;\n  var transformOrigin = parseTransformOrigin(options.transformOrigin);\n  var textSelection = options.enableTextSelection ? fakeTextSelectorInterceptor : domTextSelectionInterceptor;\n  validateBounds(bounds);\n\n  if (options.autocenter) {\n    autocenter();\n  }\n\n  var frameAnimation;\n  var lastTouchEndTime = 0;\n  var lastSingleFingerOffset;\n  var touchInProgress = false; // We only need to fire panstart when actual move happens\n\n  var panstartFired = false; // cache mouse coordinates here\n\n  var mouseX;\n  var mouseY;\n  var pinchZoomLength;\n  var smoothScroll;\n\n  if ('smoothScroll' in options && !options.smoothScroll) {\n    // If user explicitly asked us not to use smooth scrolling, we obey\n    smoothScroll = rigidScroll();\n  } else {\n    // otherwise we use forward smoothScroll settings to kinetic API\n    // which makes scroll smoothing.\n    smoothScroll = kinetic(getPoint, scroll, options.smoothScroll);\n  }\n\n  var moveByAnimation;\n  var zoomToAnimation;\n  var multiTouch;\n  var paused = false;\n  listenForEvents();\n  var api = {\n    dispose: dispose,\n    moveBy: internalMoveBy,\n    moveTo: moveTo,\n    smoothMoveTo: smoothMoveTo,\n    centerOn: centerOn,\n    zoomTo: publicZoomTo,\n    zoomAbs: zoomAbs,\n    smoothZoom: smoothZoom,\n    smoothZoomAbs: smoothZoomAbs,\n    showRectangle: showRectangle,\n    pause: pause,\n    resume: resume,\n    isPaused: isPaused,\n    getTransform: getTransformModel,\n    getMinZoom: getMinZoom,\n    setMinZoom: setMinZoom,\n    getMaxZoom: getMaxZoom,\n    setMaxZoom: setMaxZoom,\n    getTransformOrigin: getTransformOrigin,\n    setTransformOrigin: setTransformOrigin,\n    getZoomSpeed: getZoomSpeed,\n    setZoomSpeed: setZoomSpeed\n  };\n  eventify(api);\n  var initialX = typeof options.initialX === 'number' ? options.initialX : transform.x;\n  var initialY = typeof options.initialY === 'number' ? options.initialY : transform.y;\n  var initialZoom = typeof options.initialZoom === 'number' ? options.initialZoom : transform.scale;\n\n  if (initialX != transform.x || initialY != transform.y || initialZoom != transform.Scale) {\n    zoomAbs(initialX, initialY, initialZoom);\n  }\n\n  return api;\n\n  function pause() {\n    releaseEvents();\n    paused = true;\n  }\n\n  function resume() {\n    if (paused) {\n      listenForEvents();\n      paused = false;\n    }\n  }\n\n  function isPaused() {\n    return paused;\n  }\n\n  function showRectangle(rect) {\n    // TODO: this duplicates autocenter. I think autocenter should go.\n    var clientRect = owner.getBoundingClientRect();\n    var size = transformToScreen(clientRect.width, clientRect.height);\n    var rectWidth = rect.right - rect.left;\n    var rectHeight = rect.bottom - rect.top;\n\n    if (!Number.isFinite(rectWidth) || !Number.isFinite(rectHeight)) {\n      throw new Error('Invalid rectangle');\n    }\n\n    var dw = size.x / rectWidth;\n    var dh = size.y / rectHeight;\n    var scale = Math.min(dw, dh);\n    transform.x = -(rect.left + rectWidth / 2) * scale + size.x / 2;\n    transform.y = -(rect.top + rectHeight / 2) * scale + size.y / 2;\n    transform.scale = scale;\n  }\n\n  function transformToScreen(x, y) {\n    if (panController.getScreenCTM) {\n      var parentCTM = panController.getScreenCTM();\n      var parentScaleX = parentCTM.a;\n      var parentScaleY = parentCTM.d;\n      var parentOffsetX = parentCTM.e;\n      var parentOffsetY = parentCTM.f;\n      storedCTMResult.x = x * parentScaleX - parentOffsetX;\n      storedCTMResult.y = y * parentScaleY - parentOffsetY;\n    } else {\n      storedCTMResult.x = x;\n      storedCTMResult.y = y;\n    }\n\n    return storedCTMResult;\n  }\n\n  function autocenter() {\n    var w; // width of the parent\n\n    var h; // height of the parent\n\n    var left = 0;\n    var top = 0;\n    var sceneBoundingBox = getBoundingBox();\n\n    if (sceneBoundingBox) {\n      // If we have bounding box - use it.\n      left = sceneBoundingBox.left;\n      top = sceneBoundingBox.top;\n      w = sceneBoundingBox.right - sceneBoundingBox.left;\n      h = sceneBoundingBox.bottom - sceneBoundingBox.top;\n    } else {\n      // otherwise just use whatever space we have\n      var ownerRect = owner.getBoundingClientRect();\n      w = ownerRect.width;\n      h = ownerRect.height;\n    }\n\n    var bbox = panController.getBBox();\n\n    if (bbox.width === 0 || bbox.height === 0) {\n      // we probably do not have any elements in the SVG\n      // just bail out;\n      return;\n    }\n\n    var dh = h / bbox.height;\n    var dw = w / bbox.width;\n    var scale = Math.min(dw, dh);\n    transform.x = -(bbox.left + bbox.width / 2) * scale + w / 2 + left;\n    transform.y = -(bbox.top + bbox.height / 2) * scale + h / 2 + top;\n    transform.scale = scale;\n  }\n\n  function getTransformModel() {\n    // TODO: should this be read only?\n    return transform;\n  }\n\n  function getMinZoom() {\n    return minZoom;\n  }\n\n  function setMinZoom(newMinZoom) {\n    minZoom = newMinZoom;\n  }\n\n  function getMaxZoom() {\n    return maxZoom;\n  }\n\n  function setMaxZoom(newMaxZoom) {\n    maxZoom = newMaxZoom;\n  }\n\n  function getTransformOrigin() {\n    return transformOrigin;\n  }\n\n  function setTransformOrigin(newTransformOrigin) {\n    transformOrigin = parseTransformOrigin(newTransformOrigin);\n  }\n\n  function getZoomSpeed() {\n    return speed;\n  }\n\n  function setZoomSpeed(newSpeed) {\n    if (!Number.isFinite(newSpeed)) {\n      throw new Error('Zoom speed should be a number');\n    }\n\n    speed = newSpeed;\n  }\n\n  function getPoint() {\n    return {\n      x: transform.x,\n      y: transform.y\n    };\n  }\n\n  function moveTo(x, y) {\n    transform.x = x;\n    transform.y = y;\n    keepTransformInsideBounds();\n    triggerEvent('pan');\n    makeDirty();\n  }\n\n  function moveBy(dx, dy) {\n    moveTo(transform.x + dx, transform.y + dy);\n  }\n\n  function keepTransformInsideBounds() {\n    var boundingBox = getBoundingBox();\n    if (!boundingBox) return;\n    var adjusted = false;\n    var clientRect = getClientRect();\n    var diff = boundingBox.left - clientRect.right;\n\n    if (diff > 0) {\n      transform.x += diff;\n      adjusted = true;\n    } // check the other side:\n\n\n    diff = boundingBox.right - clientRect.left;\n\n    if (diff < 0) {\n      transform.x += diff;\n      adjusted = true;\n    } // y axis:\n\n\n    diff = boundingBox.top - clientRect.bottom;\n\n    if (diff > 0) {\n      // we adjust transform, so that it matches exactly our bounding box:\n      // transform.y = boundingBox.top - (boundingBox.height + boundingBox.y) * transform.scale =>\n      // transform.y = boundingBox.top - (clientRect.bottom - transform.y) =>\n      // transform.y = diff + transform.y =>\n      transform.y += diff;\n      adjusted = true;\n    }\n\n    diff = boundingBox.bottom - clientRect.top;\n\n    if (diff < 0) {\n      transform.y += diff;\n      adjusted = true;\n    }\n\n    return adjusted;\n  }\n  /**\n   * Returns bounding box that should be used to restrict scene movement.\n   */\n\n\n  function getBoundingBox() {\n    if (!bounds) return; // client does not want to restrict movement\n\n    if (typeof bounds === 'boolean') {\n      // for boolean type we use parent container bounds\n      var ownerRect = owner.getBoundingClientRect();\n      var sceneWidth = ownerRect.width;\n      var sceneHeight = ownerRect.height;\n      return {\n        left: sceneWidth * boundsPadding,\n        top: sceneHeight * boundsPadding,\n        right: sceneWidth * (1 - boundsPadding),\n        bottom: sceneHeight * (1 - boundsPadding)\n      };\n    }\n\n    return bounds;\n  }\n\n  function getClientRect() {\n    var bbox = panController.getBBox();\n    var leftTop = client(bbox.left, bbox.top);\n    return {\n      left: leftTop.x,\n      top: leftTop.y,\n      right: bbox.width * transform.scale + leftTop.x,\n      bottom: bbox.height * transform.scale + leftTop.y\n    };\n  }\n\n  function client(x, y) {\n    return {\n      x: x * transform.scale + transform.x,\n      y: y * transform.scale + transform.y\n    };\n  }\n\n  function makeDirty() {\n    isDirty = true;\n    frameAnimation = window.requestAnimationFrame(frame);\n  }\n\n  function zoomByRatio(clientX, clientY, ratio) {\n    if (isNaN(clientX) || isNaN(clientY) || isNaN(ratio)) {\n      throw new Error('zoom requires valid numbers');\n    }\n\n    var newScale = transform.scale * ratio;\n\n    if (newScale < minZoom) {\n      if (transform.scale === minZoom) return;\n      ratio = minZoom / transform.scale;\n    }\n\n    if (newScale > maxZoom) {\n      if (transform.scale === maxZoom) return;\n      ratio = maxZoom / transform.scale;\n    }\n\n    var size = transformToScreen(clientX, clientY);\n    transform.x = size.x - ratio * (size.x - transform.x);\n    transform.y = size.y - ratio * (size.y - transform.y); // TODO: https://github.com/anvaka/panzoom/issues/112\n\n    if (bounds && boundsPadding === 1 && minZoom === 1) {\n      transform.scale *= ratio;\n      keepTransformInsideBounds();\n    } else {\n      var transformAdjusted = keepTransformInsideBounds();\n      if (!transformAdjusted) transform.scale *= ratio;\n    }\n\n    triggerEvent('zoom');\n    makeDirty();\n  }\n\n  function zoomAbs(clientX, clientY, zoomLevel) {\n    var ratio = zoomLevel / transform.scale;\n    zoomByRatio(clientX, clientY, ratio);\n  }\n\n  function centerOn(ui) {\n    var parent = ui.ownerSVGElement;\n    if (!parent) throw new Error('ui element is required to be within the scene'); // TODO: should i use controller's screen CTM?\n\n    var clientRect = ui.getBoundingClientRect();\n    var cx = clientRect.left + clientRect.width / 2;\n    var cy = clientRect.top + clientRect.height / 2;\n    var container = parent.getBoundingClientRect();\n    var dx = container.width / 2 - cx;\n    var dy = container.height / 2 - cy;\n    internalMoveBy(dx, dy, true);\n  }\n\n  function smoothMoveTo(x, y) {\n    internalMoveBy(x - transform.x, y - transform.y, true);\n  }\n\n  function internalMoveBy(dx, dy, smooth) {\n    if (!smooth) {\n      return moveBy(dx, dy);\n    }\n\n    if (moveByAnimation) moveByAnimation.cancel();\n    var from = {\n      x: 0,\n      y: 0\n    };\n    var to = {\n      x: dx,\n      y: dy\n    };\n    var lastX = 0;\n    var lastY = 0;\n    moveByAnimation = animate(from, to, {\n      step: function step(v) {\n        moveBy(v.x - lastX, v.y - lastY);\n        lastX = v.x;\n        lastY = v.y;\n      }\n    });\n  }\n\n  function scroll(x, y) {\n    cancelZoomAnimation();\n    moveTo(x, y);\n  }\n\n  function dispose() {\n    releaseEvents();\n  }\n\n  function listenForEvents() {\n    owner.addEventListener('mousedown', onMouseDown, {\n      passive: false\n    });\n    owner.addEventListener('dblclick', onDoubleClick, {\n      passive: false\n    });\n    owner.addEventListener('touchstart', onTouch, {\n      passive: false\n    });\n    owner.addEventListener('keydown', onKeyDown, {\n      passive: false\n    }); // Need to listen on the owner container, so that we are not limited\n    // by the size of the scrollable domElement\n\n    wheel.addWheelListener(owner, onMouseWheel, {\n      passive: false\n    });\n    makeDirty();\n  }\n\n  function releaseEvents() {\n    wheel.removeWheelListener(owner, onMouseWheel);\n    owner.removeEventListener('mousedown', onMouseDown);\n    owner.removeEventListener('keydown', onKeyDown);\n    owner.removeEventListener('dblclick', onDoubleClick);\n    owner.removeEventListener('touchstart', onTouch);\n\n    if (frameAnimation) {\n      window.cancelAnimationFrame(frameAnimation);\n      frameAnimation = 0;\n    }\n\n    smoothScroll.cancel();\n    releaseDocumentMouse();\n    releaseTouches();\n    textSelection.release();\n    triggerPanEnd();\n  }\n\n  function frame() {\n    if (isDirty) applyTransform();\n  }\n\n  function applyTransform() {\n    isDirty = false; // TODO: Should I allow to cancel this?\n\n    panController.applyTransform(transform);\n    triggerEvent('transform');\n    frameAnimation = 0;\n  }\n\n  function onKeyDown(e) {\n    var x = 0,\n        y = 0,\n        z = 0;\n\n    if (e.keyCode === 38) {\n      y = 1; // up\n    } else if (e.keyCode === 40) {\n      y = -1; // down\n    } else if (e.keyCode === 37) {\n      x = 1; // left\n    } else if (e.keyCode === 39) {\n      x = -1; // right\n    } else if (e.keyCode === 189 || e.keyCode === 109) {\n      // DASH or SUBTRACT\n      z = 1; // `-` -  zoom out\n    } else if (e.keyCode === 187 || e.keyCode === 107) {\n      // EQUAL SIGN or ADD\n      z = -1; // `=` - zoom in (equal sign on US layout is under `+`)\n    }\n\n    if (filterKey(e, x, y, z)) {\n      // They don't want us to handle the key: https://github.com/anvaka/panzoom/issues/45\n      return;\n    }\n\n    if (x || y) {\n      e.preventDefault();\n      e.stopPropagation();\n      var clientRect = owner.getBoundingClientRect(); // movement speed should be the same in both X and Y direction:\n\n      var offset = Math.min(clientRect.width, clientRect.height);\n      var moveSpeedRatio = 0.05;\n      var dx = offset * moveSpeedRatio * x;\n      var dy = offset * moveSpeedRatio * y; // TODO: currently we do not animate this. It could be better to have animation\n\n      internalMoveBy(dx, dy);\n    }\n\n    if (z) {\n      var scaleMultiplier = getScaleMultiplier(z * 100);\n      var offset = transformOrigin ? getTransformOriginOffset() : midPoint();\n      publicZoomTo(offset.x, offset.y, scaleMultiplier);\n    }\n  }\n\n  function midPoint() {\n    var ownerRect = owner.getBoundingClientRect();\n    return {\n      x: ownerRect.width / 2,\n      y: ownerRect.height / 2\n    };\n  }\n\n  function onTouch(e) {\n    // let the override the touch behavior\n    beforeTouch(e);\n\n    if (e.touches.length === 1) {\n      return handleSingleFingerTouch(e, e.touches[0]);\n    } else if (e.touches.length === 2) {\n      // handleTouchMove() will care about pinch zoom.\n      pinchZoomLength = getPinchZoomLength(e.touches[0], e.touches[1]);\n      multiTouch = true;\n      startTouchListenerIfNeeded();\n    }\n  }\n\n  function beforeTouch(e) {\n    // TODO: Need to unify this filtering names. E.g. use `beforeTouch`\n    if (options.onTouch && !options.onTouch(e)) {\n      // if they return `false` from onTouch, we don't want to stop\n      // events propagation. Fixes https://github.com/anvaka/panzoom/issues/12\n      return;\n    }\n\n    e.stopPropagation();\n    e.preventDefault();\n  }\n\n  function beforeDoubleClick(e) {\n    // TODO: Need to unify this filtering names. E.g. use `beforeDoubleClick``\n    if (options.onDoubleClick && !options.onDoubleClick(e)) {\n      // if they return `false` from onTouch, we don't want to stop\n      // events propagation. Fixes https://github.com/anvaka/panzoom/issues/46\n      return;\n    }\n\n    e.preventDefault();\n    e.stopPropagation();\n  }\n\n  function handleSingleFingerTouch(e) {\n    var touch = e.touches[0];\n    var offset = getOffsetXY(touch);\n    lastSingleFingerOffset = offset;\n    var point = transformToScreen(offset.x, offset.y);\n    mouseX = point.x;\n    mouseY = point.y;\n    smoothScroll.cancel();\n    startTouchListenerIfNeeded();\n  }\n\n  function startTouchListenerIfNeeded() {\n    if (touchInProgress) {\n      // no need to do anything, as we already listen to events;\n      return;\n    }\n\n    touchInProgress = true;\n    document.addEventListener('touchmove', handleTouchMove);\n    document.addEventListener('touchend', handleTouchEnd);\n    document.addEventListener('touchcancel', handleTouchEnd);\n  }\n\n  function handleTouchMove(e) {\n    if (e.touches.length === 1) {\n      e.stopPropagation();\n      var touch = e.touches[0];\n      var offset = getOffsetXY(touch);\n      var point = transformToScreen(offset.x, offset.y);\n      var dx = point.x - mouseX;\n      var dy = point.y - mouseY;\n\n      if (dx !== 0 && dy !== 0) {\n        triggerPanStart();\n      }\n\n      mouseX = point.x;\n      mouseY = point.y;\n      internalMoveBy(dx, dy);\n    } else if (e.touches.length === 2) {\n      // it's a zoom, let's find direction\n      multiTouch = true;\n      var t1 = e.touches[0];\n      var t2 = e.touches[1];\n      var currentPinchLength = getPinchZoomLength(t1, t2); // since the zoom speed is always based on distance from 1, we need to apply\n      // pinch speed only on that distance from 1:\n\n      var scaleMultiplier = 1 + (currentPinchLength / pinchZoomLength - 1) * pinchSpeed;\n      var firstTouchPoint = getOffsetXY(t1);\n      var secondTouchPoint = getOffsetXY(t2);\n      mouseX = (firstTouchPoint.x + secondTouchPoint.x) / 2;\n      mouseY = (firstTouchPoint.y + secondTouchPoint.y) / 2;\n\n      if (transformOrigin) {\n        var offset = getTransformOriginOffset();\n        mouseX = offset.x;\n        mouseY = offset.y;\n      }\n\n      publicZoomTo(mouseX, mouseY, scaleMultiplier);\n      pinchZoomLength = currentPinchLength;\n      e.stopPropagation();\n      e.preventDefault();\n    }\n  }\n\n  function handleTouchEnd(e) {\n    if (e.touches.length > 0) {\n      var offset = getOffsetXY(e.touches[0]);\n      var point = transformToScreen(offset.x, offset.y);\n      mouseX = point.x;\n      mouseY = point.y;\n    } else {\n      var now = new Date();\n\n      if (now - lastTouchEndTime < doubleTapSpeedInMS) {\n        if (transformOrigin) {\n          var offset = getTransformOriginOffset();\n          smoothZoom(offset.x, offset.y, zoomDoubleClickSpeed);\n        } else {\n          // We want untransformed x/y here.\n          smoothZoom(lastSingleFingerOffset.x, lastSingleFingerOffset.y, zoomDoubleClickSpeed);\n        }\n      }\n\n      lastTouchEndTime = now;\n      triggerPanEnd();\n      releaseTouches();\n    }\n  }\n\n  function getPinchZoomLength(finger1, finger2) {\n    var dx = finger1.clientX - finger2.clientX;\n    var dy = finger1.clientY - finger2.clientY;\n    return Math.sqrt(dx * dx + dy * dy);\n  }\n\n  function onDoubleClick(e) {\n    beforeDoubleClick(e);\n    var offset = getOffsetXY(e);\n\n    if (transformOrigin) {\n      // TODO: looks like this is duplicated in the file.\n      // Need to refactor\n      offset = getTransformOriginOffset();\n    }\n\n    smoothZoom(offset.x, offset.y, zoomDoubleClickSpeed);\n  }\n\n  function onMouseDown(e) {\n    // if client does not want to handle this event - just ignore the call\n    if (beforeMouseDown(e)) return;\n\n    if (touchInProgress) {\n      // modern browsers will fire mousedown for touch events too\n      // we do not want this: touch is handled separately.\n      e.stopPropagation();\n      return false;\n    } // for IE, left click == 1\n    // for Firefox, left click == 0\n\n\n    var isLeftButton = e.button === 1 && window.event !== null || e.button === 0;\n    if (!isLeftButton) return;\n    smoothScroll.cancel();\n    var offset = getOffsetXY(e);\n    var point = transformToScreen(offset.x, offset.y);\n    mouseX = point.x;\n    mouseY = point.y; // We need to listen on document itself, since mouse can go outside of the\n    // window, and we will loose it\n\n    document.addEventListener('mousemove', onMouseMove);\n    document.addEventListener('mouseup', onMouseUp);\n    textSelection.capture(e.target || e.srcElement);\n    return false;\n  }\n\n  function onMouseMove(e) {\n    // no need to worry about mouse events when touch is happening\n    if (touchInProgress) return;\n    triggerPanStart();\n    var offset = getOffsetXY(e);\n    var point = transformToScreen(offset.x, offset.y);\n    var dx = point.x - mouseX;\n    var dy = point.y - mouseY;\n    mouseX = point.x;\n    mouseY = point.y;\n    internalMoveBy(dx, dy);\n  }\n\n  function onMouseUp() {\n    textSelection.release();\n    triggerPanEnd();\n    releaseDocumentMouse();\n  }\n\n  function releaseDocumentMouse() {\n    document.removeEventListener('mousemove', onMouseMove);\n    document.removeEventListener('mouseup', onMouseUp);\n    panstartFired = false;\n  }\n\n  function releaseTouches() {\n    document.removeEventListener('touchmove', handleTouchMove);\n    document.removeEventListener('touchend', handleTouchEnd);\n    document.removeEventListener('touchcancel', handleTouchEnd);\n    panstartFired = false;\n    multiTouch = false;\n    touchInProgress = false;\n  }\n\n  function onMouseWheel(e) {\n    // if client does not want to handle this event - just ignore the call\n    if (beforeWheel(e)) return;\n    smoothScroll.cancel();\n    var delta = e.deltaY;\n    if (e.deltaMode > 0) delta *= 100;\n    var scaleMultiplier = getScaleMultiplier(delta);\n\n    if (scaleMultiplier !== 1) {\n      var offset = transformOrigin ? getTransformOriginOffset() : getOffsetXY(e);\n      publicZoomTo(offset.x, offset.y, scaleMultiplier);\n      e.preventDefault();\n    }\n  }\n\n  function getOffsetXY(e) {\n    var offsetX, offsetY; // I tried using e.offsetX, but that gives wrong results for svg, when user clicks on a path.\n\n    var ownerRect = owner.getBoundingClientRect();\n    offsetX = e.clientX - ownerRect.left;\n    offsetY = e.clientY - ownerRect.top;\n    return {\n      x: offsetX,\n      y: offsetY\n    };\n  }\n\n  function smoothZoom(clientX, clientY, scaleMultiplier) {\n    var fromValue = transform.scale;\n    var from = {\n      scale: fromValue\n    };\n    var to = {\n      scale: scaleMultiplier * fromValue\n    };\n    smoothScroll.cancel();\n    cancelZoomAnimation();\n    zoomToAnimation = animate(from, to, {\n      step: function step(v) {\n        zoomAbs(clientX, clientY, v.scale);\n      },\n      done: triggerZoomEnd\n    });\n  }\n\n  function smoothZoomAbs(clientX, clientY, toScaleValue) {\n    var fromValue = transform.scale;\n    var from = {\n      scale: fromValue\n    };\n    var to = {\n      scale: toScaleValue\n    };\n    smoothScroll.cancel();\n    cancelZoomAnimation();\n    zoomToAnimation = animate(from, to, {\n      step: function step(v) {\n        zoomAbs(clientX, clientY, v.scale);\n      }\n    });\n  }\n\n  function getTransformOriginOffset() {\n    var ownerRect = owner.getBoundingClientRect();\n    return {\n      x: ownerRect.width * transformOrigin.x,\n      y: ownerRect.height * transformOrigin.y\n    };\n  }\n\n  function publicZoomTo(clientX, clientY, scaleMultiplier) {\n    smoothScroll.cancel();\n    cancelZoomAnimation();\n    return zoomByRatio(clientX, clientY, scaleMultiplier);\n  }\n\n  function cancelZoomAnimation() {\n    if (zoomToAnimation) {\n      zoomToAnimation.cancel();\n      zoomToAnimation = null;\n    }\n  }\n\n  function getScaleMultiplier(delta) {\n    var sign = Math.sign(delta);\n    var deltaAdjustedSpeed = Math.min(0.25, Math.abs(speed * delta / 128));\n    return 1 - sign * deltaAdjustedSpeed;\n  }\n\n  function triggerPanStart() {\n    if (!panstartFired) {\n      triggerEvent('panstart');\n      panstartFired = true;\n      smoothScroll.start();\n    }\n  }\n\n  function triggerPanEnd() {\n    if (panstartFired) {\n      // we should never run smooth scrolling if it was multiTouch (pinch zoom animation):\n      if (!multiTouch) smoothScroll.stop();\n      triggerEvent('panend');\n    }\n  }\n\n  function triggerZoomEnd() {\n    triggerEvent('zoomend');\n  }\n\n  function triggerEvent(name) {\n    api.fire(name, api);\n  }\n}\n\nfunction parseTransformOrigin(options) {\n  if (!options) return;\n\n  if (typeof options === 'object') {\n    if (!isNumber(options.x) || !isNumber(options.y)) failTransformOrigin(options);\n    return options;\n  }\n\n  failTransformOrigin();\n}\n\nfunction failTransformOrigin(options) {\n  console.error(options);\n  throw new Error(['Cannot parse transform origin.', 'Some good examples:', '  \"center center\" can be achieved with {x: 0.5, y: 0.5}', '  \"top center\" can be achieved with {x: 0.5, y: 0}', '  \"bottom right\" can be achieved with {x: 1, y: 1}'].join('\\n'));\n}\n\nfunction noop() {}\n\nfunction validateBounds(bounds) {\n  var boundsType = typeof bounds;\n  if (boundsType === 'undefined' || boundsType === 'boolean') return; // this is okay\n  // otherwise need to be more thorough:\n\n  var validBounds = isNumber(bounds.left) && isNumber(bounds.top) && isNumber(bounds.bottom) && isNumber(bounds.right);\n  if (!validBounds) throw new Error('Bounds object is not valid. It can be: ' + 'undefined, boolean (true|false) or an object {left, top, right, bottom}');\n}\n\nfunction isNumber(x) {\n  return Number.isFinite(x);\n} // IE 11 does not support isNaN:\n\n\nfunction isNaN(value) {\n  if (Number.isNaN) {\n    return Number.isNaN(value);\n  }\n\n  return value !== value;\n}\n\nfunction rigidScroll() {\n  return {\n    start: noop,\n    stop: noop,\n    cancel: noop\n  };\n}\n\nfunction autoRun() {\n  if (typeof document === 'undefined') return;\n  var scripts = document.getElementsByTagName('script');\n  if (!scripts) return;\n  var panzoomScript;\n\n  for (var i = 0; i < scripts.length; ++i) {\n    var x = scripts[i];\n\n    if (x.src && x.src.match(/\\bpanzoom(\\.min)?\\.js/)) {\n      panzoomScript = x;\n      break;\n    }\n  }\n\n  if (!panzoomScript) return;\n  var query = panzoomScript.getAttribute('query');\n  if (!query) return;\n  var globalName = panzoomScript.getAttribute('name') || 'pz';\n  var started = Date.now();\n  tryAttach();\n\n  function tryAttach() {\n    var el = document.querySelector(query);\n\n    if (!el) {\n      var now = Date.now();\n      var elapsed = now - started;\n\n      if (elapsed < 2000) {\n        // Let's wait a bit\n        setTimeout(tryAttach, 100);\n        return;\n      } // If we don't attach within 2 seconds to the target element, consider it a failure\n\n\n      console.error('Cannot find the panzoom element', globalName);\n      return;\n    }\n\n    var options = collectOptions(panzoomScript);\n    console.log(options);\n    window[globalName] = createPanZoom(el, options);\n  }\n\n  function collectOptions(script) {\n    var attrs = script.attributes;\n    var options = {};\n\n    for (var i = 0; i < attrs.length; ++i) {\n      var attr = attrs[i];\n      var nameValue = getPanzoomAttributeNameValue(attr);\n\n      if (nameValue) {\n        options[nameValue.name] = nameValue.value;\n      }\n    }\n\n    return options;\n  }\n\n  function getPanzoomAttributeNameValue(attr) {\n    if (!attr.name) return;\n    var isPanZoomAttribute = attr.name[0] === 'p' && attr.name[1] === 'z' && attr.name[2] === '-';\n    if (!isPanZoomAttribute) return;\n    var name = attr.name.substr(3);\n    var value = JSON.parse(attr.value);\n    return {\n      name: name,\n      value: value\n    };\n  }\n}\n\nautoRun();","/**\n * This module used to unify mouse wheel behavior between different browsers in 2014\n * Now it's just a wrapper around addEventListener('wheel');\n *\n * Usage:\n *  var addWheelListener = require('wheel').addWheelListener;\n *  var removeWheelListener = require('wheel').removeWheelListener;\n *  addWheelListener(domElement, function (e) {\n *    // mouse wheel event\n *  });\n *  removeWheelListener(domElement, function);\n */\nmodule.exports = addWheelListener; // But also expose \"advanced\" api with unsubscribe:\n\nmodule.exports.addWheelListener = addWheelListener;\nmodule.exports.removeWheelListener = removeWheelListener;\n\nfunction addWheelListener(element, listener, useCapture) {\n  element.addEventListener('wheel', listener, useCapture);\n}\n\nfunction removeWheelListener(element, listener, useCapture) {\n  element.removeEventListener('wheel', listener, useCapture);\n}","import \"core-js/modules/es.array.reduce\";\nimport PropTypes from 'prop-types';\nimport withSideEffect from 'react-side-effect';\nimport isEqual from 'react-fast-compare';\nimport React from 'react';\nimport objectAssign from 'object-assign';\nvar ATTRIBUTE_NAMES = {\n  BODY: \"bodyAttributes\",\n  HTML: \"htmlAttributes\",\n  TITLE: \"titleAttributes\"\n};\nvar TAG_NAMES = {\n  BASE: \"base\",\n  BODY: \"body\",\n  HEAD: \"head\",\n  HTML: \"html\",\n  LINK: \"link\",\n  META: \"meta\",\n  NOSCRIPT: \"noscript\",\n  SCRIPT: \"script\",\n  STYLE: \"style\",\n  TITLE: \"title\"\n};\nvar VALID_TAG_NAMES = Object.keys(TAG_NAMES).map(function (name) {\n  return TAG_NAMES[name];\n});\nvar TAG_PROPERTIES = {\n  CHARSET: \"charset\",\n  CSS_TEXT: \"cssText\",\n  HREF: \"href\",\n  HTTPEQUIV: \"http-equiv\",\n  INNER_HTML: \"innerHTML\",\n  ITEM_PROP: \"itemprop\",\n  NAME: \"name\",\n  PROPERTY: \"property\",\n  REL: \"rel\",\n  SRC: \"src\",\n  TARGET: \"target\"\n};\nvar REACT_TAG_MAP = {\n  accesskey: \"accessKey\",\n  charset: \"charSet\",\n  class: \"className\",\n  contenteditable: \"contentEditable\",\n  contextmenu: \"contextMenu\",\n  \"http-equiv\": \"httpEquiv\",\n  itemprop: \"itemProp\",\n  tabindex: \"tabIndex\"\n};\nvar HELMET_PROPS = {\n  DEFAULT_TITLE: \"defaultTitle\",\n  DEFER: \"defer\",\n  ENCODE_SPECIAL_CHARACTERS: \"encodeSpecialCharacters\",\n  ON_CHANGE_CLIENT_STATE: \"onChangeClientState\",\n  TITLE_TEMPLATE: \"titleTemplate\"\n};\nvar HTML_TAG_MAP = Object.keys(REACT_TAG_MAP).reduce(function (obj, key) {\n  obj[REACT_TAG_MAP[key]] = key;\n  return obj;\n}, {});\nvar SELF_CLOSING_TAGS = [TAG_NAMES.NOSCRIPT, TAG_NAMES.SCRIPT, TAG_NAMES.STYLE];\nvar HELMET_ATTRIBUTE = \"data-react-helmet\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar classCallCheck = function classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar inherits = function inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar objectWithoutProperties = function objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n\nvar possibleConstructorReturn = function possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar encodeSpecialCharacters = function encodeSpecialCharacters(str) {\n  var encode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  if (encode === false) {\n    return String(str);\n  }\n\n  return String(str).replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#x27;\");\n};\n\nvar getTitleFromPropsList = function getTitleFromPropsList(propsList) {\n  var innermostTitle = getInnermostProperty(propsList, TAG_NAMES.TITLE);\n  var innermostTemplate = getInnermostProperty(propsList, HELMET_PROPS.TITLE_TEMPLATE);\n\n  if (innermostTemplate && innermostTitle) {\n    // use function arg to avoid need to escape $ characters\n    return innermostTemplate.replace(/%s/g, function () {\n      return Array.isArray(innermostTitle) ? innermostTitle.join(\"\") : innermostTitle;\n    });\n  }\n\n  var innermostDefaultTitle = getInnermostProperty(propsList, HELMET_PROPS.DEFAULT_TITLE);\n  return innermostTitle || innermostDefaultTitle || undefined;\n};\n\nvar getOnChangeClientState = function getOnChangeClientState(propsList) {\n  return getInnermostProperty(propsList, HELMET_PROPS.ON_CHANGE_CLIENT_STATE) || function () {};\n};\n\nvar getAttributesFromPropsList = function getAttributesFromPropsList(tagType, propsList) {\n  return propsList.filter(function (props) {\n    return typeof props[tagType] !== \"undefined\";\n  }).map(function (props) {\n    return props[tagType];\n  }).reduce(function (tagAttrs, current) {\n    return _extends({}, tagAttrs, current);\n  }, {});\n};\n\nvar getBaseTagFromPropsList = function getBaseTagFromPropsList(primaryAttributes, propsList) {\n  return propsList.filter(function (props) {\n    return typeof props[TAG_NAMES.BASE] !== \"undefined\";\n  }).map(function (props) {\n    return props[TAG_NAMES.BASE];\n  }).reverse().reduce(function (innermostBaseTag, tag) {\n    if (!innermostBaseTag.length) {\n      var keys = Object.keys(tag);\n\n      for (var i = 0; i < keys.length; i++) {\n        var attributeKey = keys[i];\n        var lowerCaseAttributeKey = attributeKey.toLowerCase();\n\n        if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && tag[lowerCaseAttributeKey]) {\n          return innermostBaseTag.concat(tag);\n        }\n      }\n    }\n\n    return innermostBaseTag;\n  }, []);\n};\n\nvar getTagsFromPropsList = function getTagsFromPropsList(tagName, primaryAttributes, propsList) {\n  // Calculate list of tags, giving priority innermost component (end of the propslist)\n  var approvedSeenTags = {};\n  return propsList.filter(function (props) {\n    if (Array.isArray(props[tagName])) {\n      return true;\n    }\n\n    if (typeof props[tagName] !== \"undefined\") {\n      warn(\"Helmet: \" + tagName + \" should be of type \\\"Array\\\". Instead found type \\\"\" + _typeof(props[tagName]) + \"\\\"\");\n    }\n\n    return false;\n  }).map(function (props) {\n    return props[tagName];\n  }).reverse().reduce(function (approvedTags, instanceTags) {\n    var instanceSeenTags = {};\n    instanceTags.filter(function (tag) {\n      var primaryAttributeKey = void 0;\n      var keys = Object.keys(tag);\n\n      for (var i = 0; i < keys.length; i++) {\n        var attributeKey = keys[i];\n        var lowerCaseAttributeKey = attributeKey.toLowerCase(); // Special rule with link tags, since rel and href are both primary tags, rel takes priority\n\n        if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && !(primaryAttributeKey === TAG_PROPERTIES.REL && tag[primaryAttributeKey].toLowerCase() === \"canonical\") && !(lowerCaseAttributeKey === TAG_PROPERTIES.REL && tag[lowerCaseAttributeKey].toLowerCase() === \"stylesheet\")) {\n          primaryAttributeKey = lowerCaseAttributeKey;\n        } // Special case for innerHTML which doesn't work lowercased\n\n\n        if (primaryAttributes.indexOf(attributeKey) !== -1 && (attributeKey === TAG_PROPERTIES.INNER_HTML || attributeKey === TAG_PROPERTIES.CSS_TEXT || attributeKey === TAG_PROPERTIES.ITEM_PROP)) {\n          primaryAttributeKey = attributeKey;\n        }\n      }\n\n      if (!primaryAttributeKey || !tag[primaryAttributeKey]) {\n        return false;\n      }\n\n      var value = tag[primaryAttributeKey].toLowerCase();\n\n      if (!approvedSeenTags[primaryAttributeKey]) {\n        approvedSeenTags[primaryAttributeKey] = {};\n      }\n\n      if (!instanceSeenTags[primaryAttributeKey]) {\n        instanceSeenTags[primaryAttributeKey] = {};\n      }\n\n      if (!approvedSeenTags[primaryAttributeKey][value]) {\n        instanceSeenTags[primaryAttributeKey][value] = true;\n        return true;\n      }\n\n      return false;\n    }).reverse().forEach(function (tag) {\n      return approvedTags.push(tag);\n    }); // Update seen tags with tags from this instance\n\n    var keys = Object.keys(instanceSeenTags);\n\n    for (var i = 0; i < keys.length; i++) {\n      var attributeKey = keys[i];\n      var tagUnion = objectAssign({}, approvedSeenTags[attributeKey], instanceSeenTags[attributeKey]);\n      approvedSeenTags[attributeKey] = tagUnion;\n    }\n\n    return approvedTags;\n  }, []).reverse();\n};\n\nvar getInnermostProperty = function getInnermostProperty(propsList, property) {\n  for (var i = propsList.length - 1; i >= 0; i--) {\n    var props = propsList[i];\n\n    if (props.hasOwnProperty(property)) {\n      return props[property];\n    }\n  }\n\n  return null;\n};\n\nvar reducePropsToState = function reducePropsToState(propsList) {\n  return {\n    baseTag: getBaseTagFromPropsList([TAG_PROPERTIES.HREF, TAG_PROPERTIES.TARGET], propsList),\n    bodyAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.BODY, propsList),\n    defer: getInnermostProperty(propsList, HELMET_PROPS.DEFER),\n    encode: getInnermostProperty(propsList, HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),\n    htmlAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.HTML, propsList),\n    linkTags: getTagsFromPropsList(TAG_NAMES.LINK, [TAG_PROPERTIES.REL, TAG_PROPERTIES.HREF], propsList),\n    metaTags: getTagsFromPropsList(TAG_NAMES.META, [TAG_PROPERTIES.NAME, TAG_PROPERTIES.CHARSET, TAG_PROPERTIES.HTTPEQUIV, TAG_PROPERTIES.PROPERTY, TAG_PROPERTIES.ITEM_PROP], propsList),\n    noscriptTags: getTagsFromPropsList(TAG_NAMES.NOSCRIPT, [TAG_PROPERTIES.INNER_HTML], propsList),\n    onChangeClientState: getOnChangeClientState(propsList),\n    scriptTags: getTagsFromPropsList(TAG_NAMES.SCRIPT, [TAG_PROPERTIES.SRC, TAG_PROPERTIES.INNER_HTML], propsList),\n    styleTags: getTagsFromPropsList(TAG_NAMES.STYLE, [TAG_PROPERTIES.CSS_TEXT], propsList),\n    title: getTitleFromPropsList(propsList),\n    titleAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.TITLE, propsList)\n  };\n};\n\nvar rafPolyfill = function () {\n  var clock = Date.now();\n  return function (callback) {\n    var currentTime = Date.now();\n\n    if (currentTime - clock > 16) {\n      clock = currentTime;\n      callback(currentTime);\n    } else {\n      setTimeout(function () {\n        rafPolyfill(callback);\n      }, 0);\n    }\n  };\n}();\n\nvar cafPolyfill = function cafPolyfill(id) {\n  return clearTimeout(id);\n};\n\nvar requestAnimationFrame = typeof window !== \"undefined\" ? window.requestAnimationFrame && window.requestAnimationFrame.bind(window) || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || rafPolyfill : global.requestAnimationFrame || rafPolyfill;\nvar cancelAnimationFrame = typeof window !== \"undefined\" ? window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || cafPolyfill : global.cancelAnimationFrame || cafPolyfill;\n\nvar warn = function warn(msg) {\n  return console && typeof console.warn === \"function\" && console.warn(msg);\n};\n\nvar _helmetCallback = null;\n\nvar handleClientStateChange = function handleClientStateChange(newState) {\n  if (_helmetCallback) {\n    cancelAnimationFrame(_helmetCallback);\n  }\n\n  if (newState.defer) {\n    _helmetCallback = requestAnimationFrame(function () {\n      commitTagChanges(newState, function () {\n        _helmetCallback = null;\n      });\n    });\n  } else {\n    commitTagChanges(newState);\n    _helmetCallback = null;\n  }\n};\n\nvar commitTagChanges = function commitTagChanges(newState, cb) {\n  var baseTag = newState.baseTag,\n      bodyAttributes = newState.bodyAttributes,\n      htmlAttributes = newState.htmlAttributes,\n      linkTags = newState.linkTags,\n      metaTags = newState.metaTags,\n      noscriptTags = newState.noscriptTags,\n      onChangeClientState = newState.onChangeClientState,\n      scriptTags = newState.scriptTags,\n      styleTags = newState.styleTags,\n      title = newState.title,\n      titleAttributes = newState.titleAttributes;\n  updateAttributes(TAG_NAMES.BODY, bodyAttributes);\n  updateAttributes(TAG_NAMES.HTML, htmlAttributes);\n  updateTitle(title, titleAttributes);\n  var tagUpdates = {\n    baseTag: updateTags(TAG_NAMES.BASE, baseTag),\n    linkTags: updateTags(TAG_NAMES.LINK, linkTags),\n    metaTags: updateTags(TAG_NAMES.META, metaTags),\n    noscriptTags: updateTags(TAG_NAMES.NOSCRIPT, noscriptTags),\n    scriptTags: updateTags(TAG_NAMES.SCRIPT, scriptTags),\n    styleTags: updateTags(TAG_NAMES.STYLE, styleTags)\n  };\n  var addedTags = {};\n  var removedTags = {};\n  Object.keys(tagUpdates).forEach(function (tagType) {\n    var _tagUpdates$tagType = tagUpdates[tagType],\n        newTags = _tagUpdates$tagType.newTags,\n        oldTags = _tagUpdates$tagType.oldTags;\n\n    if (newTags.length) {\n      addedTags[tagType] = newTags;\n    }\n\n    if (oldTags.length) {\n      removedTags[tagType] = tagUpdates[tagType].oldTags;\n    }\n  });\n  cb && cb();\n  onChangeClientState(newState, addedTags, removedTags);\n};\n\nvar flattenArray = function flattenArray(possibleArray) {\n  return Array.isArray(possibleArray) ? possibleArray.join(\"\") : possibleArray;\n};\n\nvar updateTitle = function updateTitle(title, attributes) {\n  if (typeof title !== \"undefined\" && document.title !== title) {\n    document.title = flattenArray(title);\n  }\n\n  updateAttributes(TAG_NAMES.TITLE, attributes);\n};\n\nvar updateAttributes = function updateAttributes(tagName, attributes) {\n  var elementTag = document.getElementsByTagName(tagName)[0];\n\n  if (!elementTag) {\n    return;\n  }\n\n  var helmetAttributeString = elementTag.getAttribute(HELMET_ATTRIBUTE);\n  var helmetAttributes = helmetAttributeString ? helmetAttributeString.split(\",\") : [];\n  var attributesToRemove = [].concat(helmetAttributes);\n  var attributeKeys = Object.keys(attributes);\n\n  for (var i = 0; i < attributeKeys.length; i++) {\n    var attribute = attributeKeys[i];\n    var value = attributes[attribute] || \"\";\n\n    if (elementTag.getAttribute(attribute) !== value) {\n      elementTag.setAttribute(attribute, value);\n    }\n\n    if (helmetAttributes.indexOf(attribute) === -1) {\n      helmetAttributes.push(attribute);\n    }\n\n    var indexToSave = attributesToRemove.indexOf(attribute);\n\n    if (indexToSave !== -1) {\n      attributesToRemove.splice(indexToSave, 1);\n    }\n  }\n\n  for (var _i = attributesToRemove.length - 1; _i >= 0; _i--) {\n    elementTag.removeAttribute(attributesToRemove[_i]);\n  }\n\n  if (helmetAttributes.length === attributesToRemove.length) {\n    elementTag.removeAttribute(HELMET_ATTRIBUTE);\n  } else if (elementTag.getAttribute(HELMET_ATTRIBUTE) !== attributeKeys.join(\",\")) {\n    elementTag.setAttribute(HELMET_ATTRIBUTE, attributeKeys.join(\",\"));\n  }\n};\n\nvar updateTags = function updateTags(type, tags) {\n  var headElement = document.head || document.querySelector(TAG_NAMES.HEAD);\n  var tagNodes = headElement.querySelectorAll(type + \"[\" + HELMET_ATTRIBUTE + \"]\");\n  var oldTags = Array.prototype.slice.call(tagNodes);\n  var newTags = [];\n  var indexToDelete = void 0;\n\n  if (tags && tags.length) {\n    tags.forEach(function (tag) {\n      var newElement = document.createElement(type);\n\n      for (var attribute in tag) {\n        if (tag.hasOwnProperty(attribute)) {\n          if (attribute === TAG_PROPERTIES.INNER_HTML) {\n            newElement.innerHTML = tag.innerHTML;\n          } else if (attribute === TAG_PROPERTIES.CSS_TEXT) {\n            if (newElement.styleSheet) {\n              newElement.styleSheet.cssText = tag.cssText;\n            } else {\n              newElement.appendChild(document.createTextNode(tag.cssText));\n            }\n          } else {\n            var value = typeof tag[attribute] === \"undefined\" ? \"\" : tag[attribute];\n            newElement.setAttribute(attribute, value);\n          }\n        }\n      }\n\n      newElement.setAttribute(HELMET_ATTRIBUTE, \"true\"); // Remove a duplicate tag from domTagstoRemove, so it isn't cleared.\n\n      if (oldTags.some(function (existingTag, index) {\n        indexToDelete = index;\n        return newElement.isEqualNode(existingTag);\n      })) {\n        oldTags.splice(indexToDelete, 1);\n      } else {\n        newTags.push(newElement);\n      }\n    });\n  }\n\n  oldTags.forEach(function (tag) {\n    return tag.parentNode.removeChild(tag);\n  });\n  newTags.forEach(function (tag) {\n    return headElement.appendChild(tag);\n  });\n  return {\n    oldTags: oldTags,\n    newTags: newTags\n  };\n};\n\nvar generateElementAttributesAsString = function generateElementAttributesAsString(attributes) {\n  return Object.keys(attributes).reduce(function (str, key) {\n    var attr = typeof attributes[key] !== \"undefined\" ? key + \"=\\\"\" + attributes[key] + \"\\\"\" : \"\" + key;\n    return str ? str + \" \" + attr : attr;\n  }, \"\");\n};\n\nvar generateTitleAsString = function generateTitleAsString(type, title, attributes, encode) {\n  var attributeString = generateElementAttributesAsString(attributes);\n  var flattenedTitle = flattenArray(title);\n  return attributeString ? \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeString + \">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\" : \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\";\n};\n\nvar generateTagsAsString = function generateTagsAsString(type, tags, encode) {\n  return tags.reduce(function (str, tag) {\n    var attributeHtml = Object.keys(tag).filter(function (attribute) {\n      return !(attribute === TAG_PROPERTIES.INNER_HTML || attribute === TAG_PROPERTIES.CSS_TEXT);\n    }).reduce(function (string, attribute) {\n      var attr = typeof tag[attribute] === \"undefined\" ? attribute : attribute + \"=\\\"\" + encodeSpecialCharacters(tag[attribute], encode) + \"\\\"\";\n      return string ? string + \" \" + attr : attr;\n    }, \"\");\n    var tagContent = tag.innerHTML || tag.cssText || \"\";\n    var isSelfClosing = SELF_CLOSING_TAGS.indexOf(type) === -1;\n    return str + \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeHtml + (isSelfClosing ? \"/>\" : \">\" + tagContent + \"</\" + type + \">\");\n  }, \"\");\n};\n\nvar convertElementAttributestoReactProps = function convertElementAttributestoReactProps(attributes) {\n  var initProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return Object.keys(attributes).reduce(function (obj, key) {\n    obj[REACT_TAG_MAP[key] || key] = attributes[key];\n    return obj;\n  }, initProps);\n};\n\nvar convertReactPropstoHtmlAttributes = function convertReactPropstoHtmlAttributes(props) {\n  var initAttributes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return Object.keys(props).reduce(function (obj, key) {\n    obj[HTML_TAG_MAP[key] || key] = props[key];\n    return obj;\n  }, initAttributes);\n};\n\nvar generateTitleAsReactComponent = function generateTitleAsReactComponent(type, title, attributes) {\n  var _initProps; // assigning into an array to define toString function on it\n\n\n  var initProps = (_initProps = {\n    key: title\n  }, _initProps[HELMET_ATTRIBUTE] = true, _initProps);\n  var props = convertElementAttributestoReactProps(attributes, initProps);\n  return [React.createElement(TAG_NAMES.TITLE, props, title)];\n};\n\nvar generateTagsAsReactComponent = function generateTagsAsReactComponent(type, tags) {\n  return tags.map(function (tag, i) {\n    var _mappedTag;\n\n    var mappedTag = (_mappedTag = {\n      key: i\n    }, _mappedTag[HELMET_ATTRIBUTE] = true, _mappedTag);\n    Object.keys(tag).forEach(function (attribute) {\n      var mappedAttribute = REACT_TAG_MAP[attribute] || attribute;\n\n      if (mappedAttribute === TAG_PROPERTIES.INNER_HTML || mappedAttribute === TAG_PROPERTIES.CSS_TEXT) {\n        var content = tag.innerHTML || tag.cssText;\n        mappedTag.dangerouslySetInnerHTML = {\n          __html: content\n        };\n      } else {\n        mappedTag[mappedAttribute] = tag[attribute];\n      }\n    });\n    return React.createElement(type, mappedTag);\n  });\n};\n\nvar getMethodsForTag = function getMethodsForTag(type, tags, encode) {\n  switch (type) {\n    case TAG_NAMES.TITLE:\n      return {\n        toComponent: function toComponent() {\n          return generateTitleAsReactComponent(type, tags.title, tags.titleAttributes, encode);\n        },\n        toString: function toString() {\n          return generateTitleAsString(type, tags.title, tags.titleAttributes, encode);\n        }\n      };\n\n    case ATTRIBUTE_NAMES.BODY:\n    case ATTRIBUTE_NAMES.HTML:\n      return {\n        toComponent: function toComponent() {\n          return convertElementAttributestoReactProps(tags);\n        },\n        toString: function toString() {\n          return generateElementAttributesAsString(tags);\n        }\n      };\n\n    default:\n      return {\n        toComponent: function toComponent() {\n          return generateTagsAsReactComponent(type, tags);\n        },\n        toString: function toString() {\n          return generateTagsAsString(type, tags, encode);\n        }\n      };\n  }\n};\n\nvar mapStateOnServer = function mapStateOnServer(_ref) {\n  var baseTag = _ref.baseTag,\n      bodyAttributes = _ref.bodyAttributes,\n      encode = _ref.encode,\n      htmlAttributes = _ref.htmlAttributes,\n      linkTags = _ref.linkTags,\n      metaTags = _ref.metaTags,\n      noscriptTags = _ref.noscriptTags,\n      scriptTags = _ref.scriptTags,\n      styleTags = _ref.styleTags,\n      _ref$title = _ref.title,\n      title = _ref$title === undefined ? \"\" : _ref$title,\n      titleAttributes = _ref.titleAttributes;\n  return {\n    base: getMethodsForTag(TAG_NAMES.BASE, baseTag, encode),\n    bodyAttributes: getMethodsForTag(ATTRIBUTE_NAMES.BODY, bodyAttributes, encode),\n    htmlAttributes: getMethodsForTag(ATTRIBUTE_NAMES.HTML, htmlAttributes, encode),\n    link: getMethodsForTag(TAG_NAMES.LINK, linkTags, encode),\n    meta: getMethodsForTag(TAG_NAMES.META, metaTags, encode),\n    noscript: getMethodsForTag(TAG_NAMES.NOSCRIPT, noscriptTags, encode),\n    script: getMethodsForTag(TAG_NAMES.SCRIPT, scriptTags, encode),\n    style: getMethodsForTag(TAG_NAMES.STYLE, styleTags, encode),\n    title: getMethodsForTag(TAG_NAMES.TITLE, {\n      title: title,\n      titleAttributes: titleAttributes\n    }, encode)\n  };\n};\n\nvar Helmet = function Helmet(Component) {\n  var _class, _temp;\n\n  return _temp = _class = function (_React$Component) {\n    inherits(HelmetWrapper, _React$Component);\n\n    function HelmetWrapper() {\n      classCallCheck(this, HelmetWrapper);\n      return possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n    }\n\n    HelmetWrapper.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n      return !isEqual(this.props, nextProps);\n    };\n\n    HelmetWrapper.prototype.mapNestedChildrenToProps = function mapNestedChildrenToProps(child, nestedChildren) {\n      if (!nestedChildren) {\n        return null;\n      }\n\n      switch (child.type) {\n        case TAG_NAMES.SCRIPT:\n        case TAG_NAMES.NOSCRIPT:\n          return {\n            innerHTML: nestedChildren\n          };\n\n        case TAG_NAMES.STYLE:\n          return {\n            cssText: nestedChildren\n          };\n      }\n\n      throw new Error(\"<\" + child.type + \" /> elements are self-closing and can not contain children. Refer to our API for more information.\");\n    };\n\n    HelmetWrapper.prototype.flattenArrayTypeChildren = function flattenArrayTypeChildren(_ref) {\n      var _babelHelpers$extends;\n\n      var child = _ref.child,\n          arrayTypeChildren = _ref.arrayTypeChildren,\n          newChildProps = _ref.newChildProps,\n          nestedChildren = _ref.nestedChildren;\n      return _extends({}, arrayTypeChildren, (_babelHelpers$extends = {}, _babelHelpers$extends[child.type] = [].concat(arrayTypeChildren[child.type] || [], [_extends({}, newChildProps, this.mapNestedChildrenToProps(child, nestedChildren))]), _babelHelpers$extends));\n    };\n\n    HelmetWrapper.prototype.mapObjectTypeChildren = function mapObjectTypeChildren(_ref2) {\n      var _babelHelpers$extends2, _babelHelpers$extends3;\n\n      var child = _ref2.child,\n          newProps = _ref2.newProps,\n          newChildProps = _ref2.newChildProps,\n          nestedChildren = _ref2.nestedChildren;\n\n      switch (child.type) {\n        case TAG_NAMES.TITLE:\n          return _extends({}, newProps, (_babelHelpers$extends2 = {}, _babelHelpers$extends2[child.type] = nestedChildren, _babelHelpers$extends2.titleAttributes = _extends({}, newChildProps), _babelHelpers$extends2));\n\n        case TAG_NAMES.BODY:\n          return _extends({}, newProps, {\n            bodyAttributes: _extends({}, newChildProps)\n          });\n\n        case TAG_NAMES.HTML:\n          return _extends({}, newProps, {\n            htmlAttributes: _extends({}, newChildProps)\n          });\n      }\n\n      return _extends({}, newProps, (_babelHelpers$extends3 = {}, _babelHelpers$extends3[child.type] = _extends({}, newChildProps), _babelHelpers$extends3));\n    };\n\n    HelmetWrapper.prototype.mapArrayTypeChildrenToProps = function mapArrayTypeChildrenToProps(arrayTypeChildren, newProps) {\n      var newFlattenedProps = _extends({}, newProps);\n\n      Object.keys(arrayTypeChildren).forEach(function (arrayChildName) {\n        var _babelHelpers$extends4;\n\n        newFlattenedProps = _extends({}, newFlattenedProps, (_babelHelpers$extends4 = {}, _babelHelpers$extends4[arrayChildName] = arrayTypeChildren[arrayChildName], _babelHelpers$extends4));\n      });\n      return newFlattenedProps;\n    };\n\n    HelmetWrapper.prototype.warnOnInvalidChildren = function warnOnInvalidChildren(child, nestedChildren) {\n      if (process.env.NODE_ENV !== \"production\") {\n        if (!VALID_TAG_NAMES.some(function (name) {\n          return child.type === name;\n        })) {\n          if (typeof child.type === \"function\") {\n            return warn(\"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.\");\n          }\n\n          return warn(\"Only elements types \" + VALID_TAG_NAMES.join(\", \") + \" are allowed. Helmet does not support rendering <\" + child.type + \"> elements. Refer to our API for more information.\");\n        }\n\n        if (nestedChildren && typeof nestedChildren !== \"string\" && (!Array.isArray(nestedChildren) || nestedChildren.some(function (nestedChild) {\n          return typeof nestedChild !== \"string\";\n        }))) {\n          throw new Error(\"Helmet expects a string as a child of <\" + child.type + \">. Did you forget to wrap your children in braces? ( <\" + child.type + \">{``}</\" + child.type + \"> ) Refer to our API for more information.\");\n        }\n      }\n\n      return true;\n    };\n\n    HelmetWrapper.prototype.mapChildrenToProps = function mapChildrenToProps(children, newProps) {\n      var _this2 = this;\n\n      var arrayTypeChildren = {};\n      React.Children.forEach(children, function (child) {\n        if (!child || !child.props) {\n          return;\n        }\n\n        var _child$props = child.props,\n            nestedChildren = _child$props.children,\n            childProps = objectWithoutProperties(_child$props, [\"children\"]);\n        var newChildProps = convertReactPropstoHtmlAttributes(childProps);\n\n        _this2.warnOnInvalidChildren(child, nestedChildren);\n\n        switch (child.type) {\n          case TAG_NAMES.LINK:\n          case TAG_NAMES.META:\n          case TAG_NAMES.NOSCRIPT:\n          case TAG_NAMES.SCRIPT:\n          case TAG_NAMES.STYLE:\n            arrayTypeChildren = _this2.flattenArrayTypeChildren({\n              child: child,\n              arrayTypeChildren: arrayTypeChildren,\n              newChildProps: newChildProps,\n              nestedChildren: nestedChildren\n            });\n            break;\n\n          default:\n            newProps = _this2.mapObjectTypeChildren({\n              child: child,\n              newProps: newProps,\n              newChildProps: newChildProps,\n              nestedChildren: nestedChildren\n            });\n            break;\n        }\n      });\n      newProps = this.mapArrayTypeChildrenToProps(arrayTypeChildren, newProps);\n      return newProps;\n    };\n\n    HelmetWrapper.prototype.render = function render() {\n      var _props = this.props,\n          children = _props.children,\n          props = objectWithoutProperties(_props, [\"children\"]);\n\n      var newProps = _extends({}, props);\n\n      if (children) {\n        newProps = this.mapChildrenToProps(children, newProps);\n      }\n\n      return React.createElement(Component, newProps);\n    };\n\n    createClass(HelmetWrapper, null, [{\n      key: \"canUseDOM\",\n      // Component.peek comes from react-side-effect:\n      // For testing, you may use a static peek() method available on the returned component.\n      // It lets you get the current state without resetting the mounted instance stack.\n      // Don’t use it for anything other than testing.\n\n      /**\n       * @param {Object} base: {\"target\": \"_blank\", \"href\": \"http://mysite.com/\"}\n       * @param {Object} bodyAttributes: {\"className\": \"root\"}\n       * @param {String} defaultTitle: \"Default Title\"\n       * @param {Boolean} defer: true\n       * @param {Boolean} encodeSpecialCharacters: true\n       * @param {Object} htmlAttributes: {\"lang\": \"en\", \"amp\": undefined}\n       * @param {Array} link: [{\"rel\": \"canonical\", \"href\": \"http://mysite.com/example\"}]\n       * @param {Array} meta: [{\"name\": \"description\", \"content\": \"Test description\"}]\n       * @param {Array} noscript: [{\"innerHTML\": \"<img src='http://mysite.com/js/test.js'\"}]\n       * @param {Function} onChangeClientState: \"(newState) => console.log(newState)\"\n       * @param {Array} script: [{\"type\": \"text/javascript\", \"src\": \"http://mysite.com/js/test.js\"}]\n       * @param {Array} style: [{\"type\": \"text/css\", \"cssText\": \"div { display: block; color: blue; }\"}]\n       * @param {String} title: \"Title\"\n       * @param {Object} titleAttributes: {\"itemprop\": \"name\"}\n       * @param {String} titleTemplate: \"MySite.com - %s\"\n       */\n      set: function set$$1(canUseDOM) {\n        Component.canUseDOM = canUseDOM;\n      }\n    }]);\n    return HelmetWrapper;\n  }(React.Component), _class.propTypes = {\n    base: PropTypes.object,\n    bodyAttributes: PropTypes.object,\n    children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n    defaultTitle: PropTypes.string,\n    defer: PropTypes.bool,\n    encodeSpecialCharacters: PropTypes.bool,\n    htmlAttributes: PropTypes.object,\n    link: PropTypes.arrayOf(PropTypes.object),\n    meta: PropTypes.arrayOf(PropTypes.object),\n    noscript: PropTypes.arrayOf(PropTypes.object),\n    onChangeClientState: PropTypes.func,\n    script: PropTypes.arrayOf(PropTypes.object),\n    style: PropTypes.arrayOf(PropTypes.object),\n    title: PropTypes.string,\n    titleAttributes: PropTypes.object,\n    titleTemplate: PropTypes.string\n  }, _class.defaultProps = {\n    defer: true,\n    encodeSpecialCharacters: true\n  }, _class.peek = Component.peek, _class.rewind = function () {\n    var mappedState = Component.rewind();\n\n    if (!mappedState) {\n      // provide fallback if mappedState is undefined\n      mappedState = mapStateOnServer({\n        baseTag: [],\n        bodyAttributes: {},\n        encodeSpecialCharacters: true,\n        htmlAttributes: {},\n        linkTags: [],\n        metaTags: [],\n        noscriptTags: [],\n        scriptTags: [],\n        styleTags: [],\n        title: \"\",\n        titleAttributes: {}\n      });\n    }\n\n    return mappedState;\n  }, _temp;\n};\n\nvar NullComponent = function NullComponent() {\n  return null;\n};\n\nvar HelmetSideEffects = withSideEffect(reducePropsToState, handleClientStateChange, mapStateOnServer)(NullComponent);\nvar HelmetExport = Helmet(HelmetSideEffects);\nHelmetExport.renderStatic = HelmetExport.rewind;\nexport default HelmetExport;\nexport { HelmetExport as Helmet };","module.exports = makeSvgController;\nmodule.exports.canAttach = isSVGElement;\n\nfunction makeSvgController(svgElement, options) {\n  if (!isSVGElement(svgElement)) {\n    throw new Error('svg element is required for svg.panzoom to work');\n  }\n\n  var owner = svgElement.ownerSVGElement;\n\n  if (!owner) {\n    throw new Error('Do not apply panzoom to the root <svg> element. ' + 'Use its child instead (e.g. <g></g>). ' + 'As of March 2016 only FireFox supported transform on the root element');\n  }\n\n  if (!options.disableKeyboardInteraction) {\n    owner.setAttribute('tabindex', 0);\n  }\n\n  var api = {\n    getBBox: getBBox,\n    getScreenCTM: getScreenCTM,\n    getOwner: getOwner,\n    applyTransform: applyTransform,\n    initTransform: initTransform\n  };\n  return api;\n\n  function getOwner() {\n    return owner;\n  }\n\n  function getBBox() {\n    var bbox = svgElement.getBBox();\n    return {\n      left: bbox.x,\n      top: bbox.y,\n      width: bbox.width,\n      height: bbox.height\n    };\n  }\n\n  function getScreenCTM() {\n    var ctm = owner.getCTM();\n\n    if (!ctm) {\n      // This is likely firefox: https://bugzilla.mozilla.org/show_bug.cgi?id=873106\n      // The code below is not entirely correct, but still better than nothing\n      return owner.getScreenCTM();\n    }\n\n    return ctm;\n  }\n\n  function initTransform(transform) {\n    var screenCTM = svgElement.getCTM(); // The above line returns null on Firefox\n\n    if (screenCTM === null) {\n      screenCTM = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\").createSVGMatrix();\n    }\n\n    transform.x = screenCTM.e;\n    transform.y = screenCTM.f;\n    transform.scale = screenCTM.a;\n    owner.removeAttributeNS(null, 'viewBox');\n  }\n\n  function applyTransform(transform) {\n    svgElement.setAttribute('transform', 'matrix(' + transform.scale + ' 0 0 ' + transform.scale + ' ' + transform.x + ' ' + transform.y + ')');\n  }\n}\n\nfunction isSVGElement(element) {\n  return element && element.ownerSVGElement && element.getCTM;\n}"],"sourceRoot":""}